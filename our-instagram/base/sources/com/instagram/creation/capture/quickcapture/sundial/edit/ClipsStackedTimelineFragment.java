package com.instagram.creation.capture.quickcapture.sundial.edit;

import X.AHF;
import X.AbstractC001800i;
import X.AbstractC09440dt;
import X.AbstractC111324zv;
import X.AbstractC12120kG;
import X.AbstractC166987dD;
import X.AbstractC166997dE;
import X.AbstractC167007dF;
import X.AbstractC167017dG;
import X.AbstractC167027dH;
import X.AbstractC16960so;
import X.AbstractC183338Bg;
import X.AbstractC187378Sf;
import X.AbstractC25225BEi;
import X.AbstractC25226BEj;
import X.AbstractC25229BEm;
import X.AbstractC25230BEn;
import X.AbstractC31171DnF;
import X.AbstractC31175DnJ;
import X.AbstractC43591JPw;
import X.AbstractC43594JPz;
import X.AbstractC50522MSa;
import X.AbstractC50863Mdu;
import X.AbstractC52130N5e;
import X.AbstractC53880NsC;
import X.AbstractC55200OeA;
import X.AbstractC58002lE;
import X.AbstractC66552zX;
import X.AbstractC72473Mu;
import X.AnonymousClass001;
import X.AnonymousClass016;
import X.BD4;
import X.BEc;
import X.BEd;
import X.C008102v;
import X.C00O;
import X.C05A;
import X.C05F;
import X.C09530e4;
import X.C0f9;
import X.C115475Kh;
import X.C128175qm;
import X.C13400mQ;
import X.C14360o3;
import X.C1810981l;
import X.C1811181n;
import X.C1828989k;
import X.C183298Bb;
import X.C183348Bh;
import X.C183558Ce;
import X.C185268Jr;
import X.C185278Js;
import X.C187348Sc;
import X.C187358Sd;
import X.C187408Si;
import X.C187418Sj;
import X.C187438Sl;
import X.C187478Sp;
import X.C187508Ss;
import X.C187518St;
import X.C187528Su;
import X.C187538Sv;
import X.C187548Sw;
import X.C187558Sy;
import X.C187568Sz;
import X.C18950wb;
import X.C18U;
import X.C193328hC;
import X.C193658hl;
import X.C1QT;
import X.C1XM;
import X.C221609qP;
import X.C22C;
import X.C22F;
import X.C23874AhT;
import X.C25531Mh;
import X.C28514Ci8;
import X.C2GT;
import X.C2UU;
import X.C447024a;
import X.C448124l;
import X.C48625Lf1;
import X.C50858Mdp;
import X.C50864Mdv;
import X.C50865Mdw;
import X.C50866Mdx;
import X.C50868Mdz;
import X.C50869Me0;
import X.C50973Mfg;
import X.C50986Mft;
import X.C51049Mh1;
import X.C51147Miq;
import X.C51161Mj4;
import X.C51164Mj7;
import X.C51829MvX;
import X.C51831MvZ;
import X.C52273NBo;
import X.C52323NDm;
import X.C52324NDn;
import X.C52327NDq;
import X.C52415NHl;
import X.C54680ODg;
import X.C54843OMo;
import X.C55081Oab;
import X.C55103ObG;
import X.C55138Oc6;
import X.C55228Oey;
import X.C55241OfD;
import X.C56041OuD;
import X.C56042OuE;
import X.C56045OuH;
import X.C56047OuL;
import X.C56048OuM;
import X.C56192Owz;
import X.C56283Oyu;
import X.C56284Oyv;
import X.C56290OzA;
import X.C56291OzB;
import X.C56293OzE;
import X.C56777PHu;
import X.C57256Pbe;
import X.C57338Pcy;
import X.C57340Pd0;
import X.C57521Pfv;
import X.C57523Pfx;
import X.C57747Pja;
import X.C5NG;
import X.C5NL;
import X.C5RO;
import X.C5RR;
import X.C66247U5r;
import X.C81X;
import X.C84B;
import X.C84K;
import X.C87C;
import X.C87D;
import X.C87G;
import X.C87H;
import X.C87J;
import X.C89P;
import X.C8BE;
import X.C8BW;
import X.C8Ba;
import X.C8Bc;
import X.C8KD;
import X.C8NE;
import X.C8NF;
import X.C8NK;
import X.C8NL;
import X.C8T3;
import X.C8T9;
import X.C8TB;
import X.C8TC;
import X.C8TE;
import X.C8TF;
import X.C8TG;
import X.C9GQ;
import X.C9GR;
import X.C9LJ;
import X.DialogInterfaceOnClickListenerC55321Ogj;
import X.EnumC09460dv;
import X.EnumC187428Sk;
import X.EnumC189218Zt;
import X.EnumC191648eM;
import X.EnumC222759sG;
import X.EnumC50631MWs;
import X.EnumC53170NfR;
import X.EnumC53185Nfh;
import X.InterfaceC09390do;
import X.InterfaceC187498Sr;
import X.InterfaceC58034PoK;
import X.InterfaceC58283Psb;
import X.InterfaceC58284Psc;
import X.InterfaceC60072op;
import X.InterfaceC60602pj;
import X.MSW;
import X.MSX;
import X.MSY;
import X.MSZ;
import X.MTX;
import X.NB4;
import X.NCQ;
import X.NCR;
import X.NDZ;
import X.NI3;
import X.NI4;
import X.NI5;
import X.NI7;
import X.NIW;
import X.NIX;
import X.O24;
import X.O7M;
import X.O7O;
import X.OXZ;
import X.OZQ;
import X.ScaleGestureDetectorOnScaleGestureListenerC81153jk;
import X.ViewTreeObserverOnGlobalLayoutListenerC55497Okq;
import android.animation.ValueAnimator;
import android.app.Dialog;
import android.content.Context;
import android.content.DialogInterface;
import android.media.MediaPlayer;
import android.os.Build;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.TextView;
import android.widget.Toast;
import androidx.core.widget.NestedScrollView;
import androidx.fragment.app.FragmentActivity;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.instagram.common.session.UserSession;
import com.instagram.common.ui.base.IgFrameLayout;
import com.instagram.common.ui.widget.recyclerview.CustomScrollingLinearLayoutManager;
import com.instagram.creation.capture.quickcapture.aspectratioutil.NineSixteenLayoutConfigImpl;
import com.instagram.creation.capture.quickcapture.aspectratioutil.TargetViewSizeProvider;
import com.instagram.creation.capture.quickcapture.sundial.viewmodel.ClipsCreationViewModel;
import com.instagram.creation.capture.quickcapture.sundial.viewmodel.drafts.ClipsCreationDraftViewModel;
import com.instagram.creation.capture.quickcapture.sundial.viewmodel.drafts.repository.ClipsDraftRepository;
import com.instagram.creation.capture.quickcapture.sundial.widget.alignmentguideview.AlignmentGuideView;
import com.instagram.music.common.model.AudioOverlayTrack;
import com.instagram.music.common.model.MusicAssetModel;
import java.io.IOException;
import java.io.Serializable;
import java.math.BigDecimal;
import java.math.RoundingMode;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import org.webrtc.MediaStreamTrack;

/* loaded from: classes9.dex */
public final class ClipsStackedTimelineFragment extends AbstractC52130N5e implements DialogInterface.OnDismissListener, InterfaceC60072op {
    public int A00;
    public int A01;
    public Dialog A02;
    public Dialog A03;
    public MediaPlayer A04;
    public Toast A05;
    public C008102v A06;
    public C13400mQ A07;
    public C48625Lf1 A08;
    public C187438Sl A09;
    public C185278Js A0A;
    public C55103ObG A0B;
    public InterfaceC58284Psc A0C;
    public C54843OMo A0D;
    public NI5 A0E;
    public ClipsStackedTimelineViewController A0F;
    public ClipsTimelineActionBarViewController A0G;
    public C56283Oyu A0H;
    public C56283Oyu A0I;
    public C56283Oyu A0J;
    public C56283Oyu A0K;
    public ClipsTimelineBottomSheetViewController A0L;
    public C56045OuH A0M;
    public C56042OuE A0N;
    public C55138Oc6 A0O;
    public C56048OuM A0P;
    public C56047OuL A0Q;
    public EnumC222759sG A0R;
    public C23874AhT A0S;
    public C56284Oyv A0T;
    public O7O A0U;
    public C50986Mft A0V;
    public C50864Mdv A0W;
    public C87D A0X;
    public C8NF A0Y;
    public ClipsCreationViewModel A0Z;
    public C50869Me0 A0a;
    public C187418Sj A0b;
    public C187418Sj A0c;
    public C187358Sd A0d;
    public C8NL A0e;
    public NIW A0f;
    public NIW A0g;
    public C50868Mdz A0h;
    public NIX A0i;
    public C87H A0j;
    public ScaleGestureDetectorOnScaleGestureListenerC81153jk A0k;
    public C183298Bb A0l;
    public Float A0m;
    public String A0n;
    public String A0o;
    public boolean A0p;
    public boolean A0q;
    public boolean A0r;
    public boolean A0s;
    public boolean A0t;
    public boolean A0u;
    public C51161Mj4 A0v;
    public C50866Mdx A0w;
    public C50973Mfg A0x;
    public C51049Mh1 A0y;
    public C1828989k A0z;
    public String A10;
    public final InterfaceC09390do A11;
    public final InterfaceC09390do A12 = AbstractC25225BEi.A0a(C57523Pfx.A00(this, 42), C57338Pcy.A00, new C57256Pbe(12, null, this), AbstractC25225BEi.A1D(C8KD.class));
    public final InterfaceC09390do A13;
    public final InterfaceC09390do A14;
    public final InterfaceC09390do A15;
    public final InterfaceC09390do A16;
    public final InterfaceC09390do A17;

    public static final int A00(C84B c84b, int i) {
        if (c84b == null) {
            return 0;
        }
        int A06 = MSW.A06(c84b);
        int i2 = 0;
        for (int i3 = 0; i3 < A06; i3++) {
            C115475Kh c115475Kh = (C115475Kh) c84b.A03(i3);
            i2 += (((int) (c115475Kh.A0B() * new BigDecimal(Math.abs(c115475Kh.A00)).setScale(1, RoundingMode.HALF_UP).floatValue())) / i) + 1;
        }
        return i2;
    }

    public final void A0W() {
        int i;
        int i2;
        C09530e4 c09530e4;
        int i3;
        Object obj;
        String str;
        Object obj2;
        C183558Ce c183558Ce;
        C87H c87h = this.A0j;
        C81X c81x = null;
        if (c87h == null) {
            str = "videoPlaybackViewModel";
        } else {
            C87J A0P = MSX.A0P(c87h);
            boolean z = false;
            if (A0P != null) {
                i = A0P.CFM();
            } else {
                i = 0;
            }
            ClipsCreationViewModel clipsCreationViewModel = this.A0Z;
            String str2 = "clipsCreationViewModel";
            if (clipsCreationViewModel != null) {
                C84B A0N = MSY.A0N(clipsCreationViewModel);
                if (A0N != null) {
                    i2 = MSW.A06(A0N);
                } else {
                    i2 = 0;
                }
                ClipsCreationViewModel clipsCreationViewModel2 = this.A0Z;
                if (clipsCreationViewModel2 != null) {
                    int A04 = MSW.A04(clipsCreationViewModel2);
                    C187418Sj c187418Sj = this.A0c;
                    if (c187418Sj == null) {
                        str2 = "clipsTimelineButtonEventProvider";
                    } else {
                        c187418Sj.A0F(C56293OzE.A00);
                        ClipsCreationViewModel clipsCreationViewModel3 = this.A0Z;
                        if (clipsCreationViewModel3 != null) {
                            if (!clipsCreationViewModel3.A09 && (c183558Ce = clipsCreationViewModel3.A02) != null && (c09530e4 = c183558Ce.A01(true)) != null) {
                                ClipsCreationViewModel.A04(clipsCreationViewModel3, (C128175qm) c09530e4.A01);
                                Context context = getContext();
                                if (context != null) {
                                    Object obj3 = c09530e4.A00;
                                    String A0T = AnonymousClass001.A0T(context.getString(2131952154), context.getString(((EnumC191648eM) obj3).A00), ' ');
                                    C14360o3.A0B(A0T, 1);
                                    C9GR.A03(context, A0T, null, 0);
                                    if (obj3 == EnumC191648eM.A0X) {
                                        ClipsCreationViewModel clipsCreationViewModel4 = this.A0Z;
                                        if (clipsCreationViewModel4 != null) {
                                            C84K c84k = clipsCreationViewModel4.A0K.A0A;
                                            String str3 = c84k.A00;
                                            if (str3 != null) {
                                                try {
                                                    MSZ.A1N(c84k.A01.A00(str3));
                                                } catch (IOException | SecurityException unused) {
                                                }
                                            }
                                        }
                                    }
                                }
                            } else {
                                c09530e4 = null;
                            }
                            ClipsCreationViewModel clipsCreationViewModel5 = this.A0Z;
                            if (clipsCreationViewModel5 != null) {
                                C84B A0N2 = MSY.A0N(clipsCreationViewModel5);
                                if (A0N2 != null) {
                                    i3 = MSW.A06(A0N2);
                                } else {
                                    i3 = 0;
                                }
                                int i4 = i3 - i2;
                                A03(i4);
                                A04(A04, i);
                                C50868Mdz c50868Mdz = this.A0h;
                                if (c50868Mdz == null) {
                                    str = "stackedTimelineViewModel";
                                } else {
                                    c50868Mdz.A0L();
                                    if (c09530e4 != null && ((obj2 = c09530e4.A00) == EnumC191648eM.A04 || obj2 == EnumC191648eM.A08 || obj2 == EnumC191648eM.A09)) {
                                        if (obj2 != EnumC191648eM.A08) {
                                            z = true;
                                        }
                                        A0I((C128175qm) c09530e4.A01, z);
                                    }
                                    if (i4 < 0) {
                                        C54843OMo c54843OMo = this.A0D;
                                        if (c54843OMo == null) {
                                            str = "timedElementTracksManager";
                                        } else {
                                            ClipsCreationViewModel clipsCreationViewModel6 = this.A0Z;
                                            if (clipsCreationViewModel6 != null) {
                                                int A042 = MSW.A04(clipsCreationViewModel6);
                                                ClipsCreationViewModel clipsCreationViewModel7 = this.A0Z;
                                                if (clipsCreationViewModel7 != null) {
                                                    int A043 = MSW.A04(clipsCreationViewModel7) - A04;
                                                    c54843OMo.A03(A042);
                                                    c54843OMo.A0A.A0V(A043, A042 - A043, false, false, false);
                                                }
                                            }
                                        }
                                    }
                                    if (c09530e4 != null) {
                                        obj = c09530e4.A00;
                                    } else {
                                        obj = null;
                                    }
                                    if (obj == EnumC191648eM.A0a) {
                                        c81x = C81X.A1Z;
                                    }
                                    C22C A0L = MSY.A0L(this);
                                    if (A0L.A0J() != null) {
                                        A0L.A09.A0R(null, ((C22F) A0L).A04.A0A, null, EnumC50631MWs.A0I, c81x, null, null, null, "TIMELINE_UNDO_TAP", null, null, null, true, false);
                                        return;
                                    }
                                    return;
                                }
                            }
                        }
                    }
                }
            }
            C14360o3.A0F(str2);
            throw C00O.createAndThrow();
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    /* JADX WARN: Code restructure failed: missing block: B:183:0x056c, code lost:
    
        if (r13 == 0) goto L184;
     */
    /* JADX WARN: Code restructure failed: missing block: B:184:0x056e, code lost:
    
        r15 = false;
     */
    /* JADX WARN: Code restructure failed: missing block: B:330:0x08f1, code lost:
    
        if (X.MSW.A06(r3) != 1) goto L328;
     */
    /* JADX WARN: Code restructure failed: missing block: B:343:0x0917, code lost:
    
        if (r3.A08 != 0) goto L342;
     */
    /* JADX WARN: Code restructure failed: missing block: B:346:0x0929, code lost:
    
        if (r3 == false) goto L185;
     */
    /* JADX WARN: Code restructure failed: missing block: B:351:0x0933, code lost:
    
        if (r9 != X.EnumC189548aZ.A06) goto L185;
     */
    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void onViewCreated(android.view.View r51, android.os.Bundle r52) {
        /*
            Method dump skipped, instructions count: 2449
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment.onViewCreated(android.view.View, android.os.Bundle):void");
    }

    /* JADX WARN: Removed duplicated region for block: B:12:0x002d  */
    /* JADX WARN: Removed duplicated region for block: B:15:0x0033  */
    /* JADX WARN: Removed duplicated region for block: B:24:0x004f  */
    /* JADX WARN: Removed duplicated region for block: B:27:0x0071  */
    /* JADX WARN: Removed duplicated region for block: B:39:0x0059  */
    /* JADX WARN: Removed duplicated region for block: B:42:0x005b  */
    /* JADX WARN: Removed duplicated region for block: B:8:0x001f  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public static final java.lang.Object A02(com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment r5, X.InterfaceC23621Ds r6) {
        /*
            r3 = 36
            boolean r0 = X.MAG.A01(r6, r3)
            if (r0 == 0) goto L6b
            r4 = r6
            X.MAG r4 = (X.MAG) r4
            int r2 = r4.A00
            r1 = -2147483648(0xffffffff80000000, float:-0.0)
            r0 = r2 & r1
            if (r0 == 0) goto L6b
            int r2 = r2 - r1
            r4.A00 = r2
        L16:
            java.lang.Object r1 = r4.A02
            X.1JX r3 = X.C1JX.A02
            int r0 = r4.A00
            r2 = 1
            if (r0 == 0) goto L5b
            if (r0 != r2) goto L93
            java.lang.Object r5 = r4.A01
            com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment r5 = (com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment) r5
            X.AbstractC09560e7.A00(r1)
        L28:
            X.OuE r0 = r5.A0N
            r3 = 0
            if (r0 == 0) goto L59
            java.lang.Integer r1 = r0.A07
        L2f:
            X.OuE r0 = r5.A0N
            if (r0 == 0) goto L35
            java.lang.Integer r3 = r0.A09
        L35:
            com.instagram.creation.capture.quickcapture.sundial.edit.model.ClipsTimelineEditorConfig r0 = r5.A02
            boolean r0 = r0.isSlipEnabled
            if (r0 == 0) goto L8e
            X.0do r0 = r5.A16
            boolean r0 = X.AbstractC31178DnM.A1a(r0)
            if (r0 == 0) goto L8e
            if (r1 == 0) goto L8e
            if (r3 == 0) goto L8e
            int r2 = r1.intValue()
            com.instagram.creation.capture.quickcapture.sundial.viewmodel.ClipsCreationViewModel r0 = r5.A0Z
            if (r0 != 0) goto L71
            java.lang.String r0 = "clipsCreationViewModel"
            X.C14360o3.A0F(r0)
            X.00O r0 = X.C00O.createAndThrow()
            throw r0
        L59:
            r1 = r3
            goto L2f
        L5b:
            X.AbstractC09560e7.A00(r1)
            r0 = 80
            r4.A01 = r5
            r4.A00 = r2
            java.lang.Object r0 = X.AbstractC89993zf.A01(r4, r0)
            if (r0 != r3) goto L28
            return r3
        L6b:
            X.MAG r4 = new X.MAG
            r4.<init>(r5, r6, r3)
            goto L16
        L71:
            X.84B r1 = X.MSY.A0N(r0)
            if (r1 == 0) goto L91
            int r0 = r3.intValue()
            X.5Kh r0 = X.MSW.A0V(r1, r0)
            if (r0 == 0) goto L91
            X.5Km r0 = r0.A0G
            int r0 = r0.A04
        L85:
            if (r2 >= r0) goto L8e
            X.Oc6 r0 = r5.A0O
            if (r0 == 0) goto L8e
            r0.A04()
        L8e:
            X.0eB r3 = X.C0eB.A00
            return r3
        L91:
            r0 = 0
            goto L85
        L93:
            java.lang.IllegalStateException r0 = X.AbstractC166987dD.A13()
            throw r0
        */
        throw new UnsupportedOperationException("Method not decompiled: com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment.A02(com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment, X.1Ds):java.lang.Object");
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Removed duplicated region for block: B:12:0x001e  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private final void A03(int r4) {
        /*
            r3 = this;
            X.8Sd r0 = r3.A0d
            java.lang.String r2 = "clipsTimelineEditorViewModel"
            if (r0 == 0) goto L22
            X.8Sf r1 = r0.A0E()
            boolean r0 = r1 instanceof X.C8TF
            if (r0 != 0) goto L18
            boolean r0 = r1 instanceof X.C8T0
            if (r0 != 0) goto L1a
            boolean r0 = r1 instanceof X.C8T2
            if (r0 != 0) goto L1a
            boolean r4 = r1 instanceof X.C8T3
        L18:
            if (r4 == 0) goto L21
        L1a:
            X.8Sd r0 = r3.A0d
            if (r0 == 0) goto L22
            X.MSZ.A1M(r0)
        L21:
            return
        L22:
            X.C14360o3.A0F(r2)
            X.00O r0 = X.C00O.createAndThrow()
            throw r0
        */
        throw new UnsupportedOperationException("Method not decompiled: com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment.A03(int):void");
    }

    public static final void A05(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        String str;
        C54843OMo c54843OMo = clipsStackedTimelineFragment.A0D;
        if (c54843OMo == null) {
            str = "timedElementTracksManager";
        } else {
            int A06 = MSZ.A06(((AbstractC50863Mdu) c54843OMo.A0A).A01);
            if (A06 != -1) {
                int A062 = AbstractC50522MSa.A06(c54843OMo.A02) * A06;
                if (Integer.valueOf(A062) != null) {
                    ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
                    if (clipsStackedTimelineViewController == null) {
                        str = "viewController";
                    } else {
                        NestedScrollView nestedScrollView = clipsStackedTimelineViewController.nestedScrollView;
                        if (nestedScrollView != null) {
                            nestedScrollView.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserverOnGlobalLayoutListenerC55497Okq(nestedScrollView, A062, 1));
                            return;
                        }
                        return;
                    }
                } else {
                    return;
                }
            } else {
                return;
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public static final void A06(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        String str;
        if (AbstractC167007dF.A1Z(clipsStackedTimelineFragment.A17)) {
            ClipsCreationViewModel clipsCreationViewModel = clipsStackedTimelineFragment.A0Z;
            if (clipsCreationViewModel == null) {
                str = "clipsCreationViewModel";
            } else if (!clipsCreationViewModel.A0r()) {
                NIX nix = clipsStackedTimelineFragment.A0i;
                if (nix == null) {
                    str = "timedElementsViewModel";
                } else {
                    nix.A0N();
                    return;
                }
            } else {
                return;
            }
            C14360o3.A0F(str);
            throw C00O.createAndThrow();
        }
    }

    public static final void A07(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        String str;
        int i = clipsStackedTimelineFragment.A00 / 2;
        C50868Mdz c50868Mdz = clipsStackedTimelineFragment.A0h;
        if (c50868Mdz == null) {
            str = "stackedTimelineViewModel";
        } else {
            Integer valueOf = Integer.valueOf(i);
            c50868Mdz.A0U(valueOf, valueOf);
            ClipsCreationViewModel clipsCreationViewModel = clipsStackedTimelineFragment.A0Z;
            if (clipsCreationViewModel == null) {
                str = "clipsCreationViewModel";
            } else {
                int A04 = MSW.A04(clipsCreationViewModel);
                ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
                if (clipsStackedTimelineViewController != null) {
                    clipsStackedTimelineViewController.A0V(A04, false);
                    C55103ObG c55103ObG = clipsStackedTimelineFragment.A0B;
                    if (c55103ObG != null) {
                        c55103ObG.A04(i);
                        C54843OMo c54843OMo = clipsStackedTimelineFragment.A0D;
                        if (c54843OMo != null) {
                            c54843OMo.A03(A04);
                            C54843OMo c54843OMo2 = clipsStackedTimelineFragment.A0D;
                            if (c54843OMo2 != null) {
                                c54843OMo2.A00();
                                C87H c87h = clipsStackedTimelineFragment.A0j;
                                str = "videoPlaybackViewModel";
                                if (c87h != null) {
                                    int A00 = c87h.A00();
                                    int A002 = AbstractC53880NsC.A00(clipsStackedTimelineFragment.requireContext(), A00);
                                    ClipsStackedTimelineViewController clipsStackedTimelineViewController2 = clipsStackedTimelineFragment.A0F;
                                    if (clipsStackedTimelineViewController2 != null) {
                                        clipsStackedTimelineViewController2.A0J(A002);
                                        C55103ObG c55103ObG2 = clipsStackedTimelineFragment.A0B;
                                        if (c55103ObG2 != null) {
                                            Iterator A01 = C55103ObG.A01(c55103ObG2);
                                            while (A01.hasNext()) {
                                                MSW.A0U(A01).A0J(A002);
                                            }
                                            Iterator A003 = C55103ObG.A00(c55103ObG2);
                                            while (A003.hasNext()) {
                                                MSW.A0U(A003).A0J(A002);
                                            }
                                            NI5 ni5 = clipsStackedTimelineFragment.A0E;
                                            if (ni5 == null) {
                                                str = "videoTrackViewController";
                                            } else {
                                                ni5.A0J(A002);
                                                C54843OMo c54843OMo3 = clipsStackedTimelineFragment.A0D;
                                                if (c54843OMo3 != null) {
                                                    Iterator it = c54843OMo3.A0C.iterator();
                                                    while (it.hasNext()) {
                                                        MSW.A0U(it).A0J(A002);
                                                    }
                                                    Iterator it2 = c54843OMo3.A0B.iterator();
                                                    while (it2.hasNext()) {
                                                        MSW.A0U(it2).A0J(A002);
                                                    }
                                                    C87H c87h2 = clipsStackedTimelineFragment.A0j;
                                                    if (c87h2 != null) {
                                                        c87h2.A06(A00);
                                                        return;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        C14360o3.A0F("timedElementTracksManager");
                        throw C00O.createAndThrow();
                    }
                    C14360o3.A0F("audioElementTracksManager");
                    throw C00O.createAndThrow();
                }
                C14360o3.A0F("viewController");
                throw C00O.createAndThrow();
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public static final void A08(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        RecyclerView recyclerView;
        RecyclerView recyclerView2;
        String str;
        ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
        if (clipsStackedTimelineViewController == null) {
            str = "viewController";
        } else {
            AbstractC55200OeA.A03(clipsStackedTimelineViewController.A0O(), 8);
            AbstractC55200OeA.A03(clipsStackedTimelineViewController.A0N(), 8);
            C54843OMo c54843OMo = clipsStackedTimelineFragment.A0D;
            if (c54843OMo == null) {
                str = "timedElementTracksManager";
            } else {
                c54843OMo.A04(4);
                C187358Sd c187358Sd = clipsStackedTimelineFragment.A0d;
                if (c187358Sd == null) {
                    str = "clipsTimelineEditorViewModel";
                } else {
                    MSX.A1M(c187358Sd, false);
                    C187418Sj c187418Sj = clipsStackedTimelineFragment.A0c;
                    if (c187418Sj == null) {
                        str = "clipsTimelineButtonEventProvider";
                    } else {
                        c187418Sj.A0F(C56291OzB.A00);
                        NI5 ni5 = clipsStackedTimelineFragment.A0E;
                        if (ni5 == null) {
                            str = "videoTrackViewController";
                        } else {
                            C57523Pfx A00 = C57523Pfx.A00(clipsStackedTimelineFragment, 40);
                            C57340Pd0 c57340Pd0 = C57340Pd0.A00;
                            C14360o3.A0B(c57340Pd0, 0);
                            C54680ODg c54680ODg = ni5.A02;
                            NI5.A01(ni5, c54680ODg.A01, 100L, true);
                            RecyclerView recyclerView3 = ni5.A0A;
                            int i = c54680ODg.A05;
                            ValueAnimator ofInt = ValueAnimator.ofInt(i, (int) (i * 2.5d));
                            C55241OfD.A01(ofInt, recyclerView3, 7);
                            ofInt.addListener(new C28514Ci8(2, ofInt, A00, c57340Pd0));
                            ofInt.setDuration(100L);
                            ofInt.start();
                            C55103ObG c55103ObG = clipsStackedTimelineFragment.A0B;
                            if (c55103ObG == null) {
                                str = "audioElementTracksManager";
                            } else {
                                Iterator A01 = C55103ObG.A01(c55103ObG);
                                while (A01.hasNext()) {
                                    NI7 A0T = MSW.A0T(A01);
                                    if (A0T.A0J && (recyclerView2 = A0T.A08) != null) {
                                        AbstractC55200OeA.A03(recyclerView2, 4);
                                    }
                                }
                                Iterator A002 = C55103ObG.A00(c55103ObG);
                                while (A002.hasNext()) {
                                    NI7 A0T2 = MSW.A0T(A002);
                                    if (A0T2.A0J && (recyclerView = A0T2.A08) != null) {
                                        AbstractC55200OeA.A03(recyclerView, 4);
                                    }
                                }
                                return;
                            }
                        }
                    }
                }
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public static final void A09(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        boolean z;
        C09530e4 A0M;
        C5NG BlQ;
        NIX nix = clipsStackedTimelineFragment.A0i;
        if (nix != null) {
            ClipsCreationViewModel clipsCreationViewModel = clipsStackedTimelineFragment.A0Z;
            String str = "clipsCreationViewModel";
            if (clipsCreationViewModel != null) {
                List A1B = MSW.A1B(clipsCreationViewModel.A0N.A0D);
                String str2 = clipsStackedTimelineFragment.A10;
                C14360o3.A0B(A1B, 0);
                C55228Oey c55228Oey = ((AbstractC50863Mdu) nix).A01;
                Context context = nix.A05;
                C14360o3.A0B(context, 0);
                C55228Oey.A06(c55228Oey);
                ArrayList A0q = AbstractC25230BEn.A0q(A1B);
                Iterator it = A1B.iterator();
                while (it.hasNext()) {
                    A0q.add(C55228Oey.A01(context, (C5RR) it.next()));
                }
                c55228Oey.A07.Egh(A0q);
                if (str2 != null) {
                    Iterator A0x = MSZ.A0x(c55228Oey.A09);
                    int i = 0;
                    while (true) {
                        String str3 = null;
                        if (!A0x.hasNext()) {
                            break;
                        }
                        Object next = A0x.next();
                        int i2 = i + 1;
                        if (i < 0) {
                            AbstractC16960so.A1U();
                            break;
                        }
                        C5RR c5rr = ((C51831MvZ) next).A00;
                        if (c5rr != null) {
                            C5NL C0T = c5rr.C0T();
                            if (C0T != null && (BlQ = C0T.BlQ()) != null) {
                                str3 = BlQ.A00();
                            }
                            if (C14360o3.A0K(str3, str2)) {
                                Integer valueOf = Integer.valueOf(i);
                                if (valueOf != null) {
                                    c55228Oey.A0U(valueOf.intValue(), true);
                                }
                            }
                        }
                        i = i2;
                    }
                    throw C00O.createAndThrow();
                }
                NIX.A00(nix);
                NIX nix2 = clipsStackedTimelineFragment.A0i;
                if (nix2 != null) {
                    ClipsCreationViewModel clipsCreationViewModel2 = clipsStackedTimelineFragment.A0Z;
                    if (clipsCreationViewModel2 != null) {
                        List<C5RO> A1B2 = MSW.A1B(clipsCreationViewModel2.A0N.A0E);
                        String str4 = clipsStackedTimelineFragment.A10;
                        C14360o3.A0B(A1B2, 0);
                        if (!(A1B2 instanceof Collection) || !A1B2.isEmpty()) {
                            Iterator it2 = A1B2.iterator();
                            while (it2.hasNext()) {
                                Object next2 = it2.next();
                                if (!(next2 instanceof C5RO)) {
                                    if (next2 instanceof BEd) {
                                        next2 = ((C9LJ) ((BD4) next2)).A0B;
                                    } else {
                                        next2 = null;
                                    }
                                }
                                if ((next2 instanceof C5RO) && ((C5RO) next2).CBd() == EnumC53185Nfh.A07) {
                                    break;
                                }
                            }
                        }
                        C55228Oey c55228Oey2 = ((AbstractC50863Mdu) nix2).A01;
                        Context context2 = nix2.A05;
                        C14360o3.A0B(context2, 0);
                        C55228Oey.A07(c55228Oey2);
                        do {
                        } while (!MSZ.A1Z(c55228Oey2.A08));
                        loop3: while (true) {
                            z = true;
                            for (C5RO c5ro : A1B2) {
                                if (!(c5ro.Afg() instanceof BEc)) {
                                    if (!c55228Oey2.A0X(context2, c5ro) || !z) {
                                        z = false;
                                    }
                                }
                            }
                        }
                        if (z) {
                            if (str4 != null && (A0M = c55228Oey2.A0M(str4)) != null) {
                                c55228Oey2.A0S(AbstractC25230BEn.A0F(A0M), AbstractC25229BEm.A0A(A0M), true);
                            }
                            nix2.A0G();
                        }
                        C1810981l c1810981l = ((AbstractC52130N5e) clipsStackedTimelineFragment).A00;
                        if (c1810981l != null) {
                            if (C14360o3.A0K(c1810981l.A08.A00, C1811181n.A00)) {
                                NIX nix3 = clipsStackedTimelineFragment.A0i;
                                if (nix3 != null) {
                                    C55228Oey c55228Oey3 = ((AbstractC50863Mdu) nix3).A01;
                                    Context context3 = nix3.A05;
                                    C14360o3.A0B(context3, 0);
                                    C55228Oey.A06(c55228Oey3);
                                    C05A c05a = c55228Oey3.A07;
                                    ArrayList A1E = AbstractC166987dD.A1E();
                                    A1E.add(new C51831MvZ(EnumC53185Nfh.A08, null, C05F.A00, AbstractC166997dE.A0p(context3, 2131955908), 0, false));
                                    A1E.addAll((Collection) c05a.getValue());
                                    c05a.Egh(A1E);
                                    NIX.A00(nix3);
                                    return;
                                }
                            } else {
                                return;
                            }
                        } else {
                            str = "cameraConfigurationViewModel";
                        }
                    }
                }
            }
            C14360o3.A0F(str);
            throw C00O.createAndThrow();
        }
        C14360o3.A0F("timedElementsViewModel");
        throw C00O.createAndThrow();
    }

    public static final void A0B(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
        String str = "viewController";
        if (clipsStackedTimelineViewController != null) {
            C50868Mdz c50868Mdz = clipsStackedTimelineFragment.A0h;
            if (c50868Mdz == null) {
                str = "stackedTimelineViewModel";
            } else {
                Iterable iterable = (Iterable) c50868Mdz.A0k.getValue();
                ArrayList A0i = AbstractC167007dF.A0i(iterable);
                Iterator it = iterable.iterator();
                while (it.hasNext()) {
                    float A00 = AbstractC53880NsC.A00(clipsStackedTimelineFragment.requireContext(), AbstractC167007dF.A0B(it));
                    if (clipsStackedTimelineFragment.A0F != null) {
                        MSX.A1Q(A0i, A00 - ((OXZ) r0).A00);
                    }
                }
                AlignmentGuideView alignmentGuideView = clipsStackedTimelineViewController.alignmentGuideView;
                if (alignmentGuideView != null) {
                    ArrayList A0i2 = AbstractC167007dF.A0i(A0i);
                    Iterator it2 = A0i.iterator();
                    while (it2.hasNext()) {
                        MSX.A1Q(A0i2, AbstractC166987dD.A09(it2.next()) + (clipsStackedTimelineViewController.A06 / 2));
                    }
                    alignmentGuideView.setVerticalPositionsList(A0i2);
                    return;
                }
                return;
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public static final void A0D(ClipsStackedTimelineFragment clipsStackedTimelineFragment, int i) {
        String str;
        NI5 ni5 = clipsStackedTimelineFragment.A0E;
        if (ni5 == null) {
            str = "videoTrackViewController";
        } else {
            ni5.A0A.setVisibility(i);
            C55103ObG c55103ObG = clipsStackedTimelineFragment.A0B;
            if (c55103ObG == null) {
                str = "audioElementTracksManager";
            } else {
                Iterator A01 = C55103ObG.A01(c55103ObG);
                while (A01.hasNext()) {
                    IgFrameLayout igFrameLayout = MSW.A0T(A01).A0A;
                    if (igFrameLayout != null) {
                        igFrameLayout.setVisibility(i);
                    }
                }
                C54843OMo c54843OMo = clipsStackedTimelineFragment.A0D;
                if (c54843OMo == null) {
                    str = "timedElementTracksManager";
                } else {
                    c54843OMo.A04(i);
                    return;
                }
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    /* JADX WARN: Removed duplicated region for block: B:8:0x0014  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public static final void A0F(com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment r3, java.lang.Object r4) {
        /*
            boolean r0 = r4 instanceof X.C5RO
            java.lang.String r2 = "clipsCreationViewModel"
            if (r0 == 0) goto L22
            com.instagram.creation.capture.quickcapture.sundial.viewmodel.ClipsCreationViewModel r1 = r3.A0Z
            if (r1 == 0) goto L1a
            r0 = r4
            X.5RO r0 = (X.C5RO) r0
            r1.A0c(r0)
        L10:
            boolean r0 = r4 instanceof android.graphics.drawable.Drawable
            if (r0 == 0) goto L3c
            X.8Sj r2 = r3.A0c
            if (r2 != 0) goto L31
            java.lang.String r2 = "clipsTimelineButtonEventProvider"
        L1a:
            X.C14360o3.A0F(r2)
            X.00O r0 = X.C00O.createAndThrow()
            throw r0
        L22:
            boolean r0 = r4 instanceof X.C5RR
            if (r0 == 0) goto L10
            com.instagram.creation.capture.quickcapture.sundial.viewmodel.ClipsCreationViewModel r1 = r3.A0Z
            if (r1 == 0) goto L1a
            r0 = r4
            X.5RR r0 = (X.C5RR) r0
            r1.A0f(r0)
            goto L10
        L31:
            android.graphics.drawable.Drawable r4 = (android.graphics.drawable.Drawable) r4
            r1 = 5
            X.9BF r0 = new X.9BF
            r0.<init>(r4, r1)
            r2.A0F(r0)
        L3c:
            A06(r3)
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment.A0F(com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment, java.lang.Object):void");
    }

    public static final void A0G(ClipsStackedTimelineFragment clipsStackedTimelineFragment, String str, boolean z) {
        C56283Oyu c56283Oyu;
        InterfaceC58034PoK A00;
        C51829MvX c51829MvX;
        C51147Miq c51147Miq;
        ClipsTimelineBottomSheetViewController clipsTimelineBottomSheetViewController = clipsStackedTimelineFragment.A0L;
        InterfaceC58283Psb interfaceC58283Psb = null;
        if (clipsTimelineBottomSheetViewController != null) {
            interfaceC58283Psb = clipsTimelineBottomSheetViewController.A07;
        }
        if ((interfaceC58283Psb instanceof C56283Oyu) && (c56283Oyu = (C56283Oyu) interfaceC58283Psb) != null && (A00 = c56283Oyu.A00(str)) != null && (A00 instanceof C51829MvX) && (c51829MvX = (C51829MvX) A00) != null) {
            C51829MvX c51829MvX2 = new C51829MvX(c51829MvX.A01, c51829MvX.A00, c51829MvX.A03, z);
            RecyclerView recyclerView = c56283Oyu.A00;
            C2UU c2uu = null;
            if (recyclerView != null) {
                c2uu = recyclerView.A0A;
            }
            if ((c2uu instanceof C51147Miq) && (c51147Miq = (C51147Miq) c2uu) != null) {
                int i = 0;
                for (InterfaceC58034PoK interfaceC58034PoK : c51147Miq.A00) {
                    if ((interfaceC58034PoK instanceof C51829MvX) && C14360o3.A0K(((C51829MvX) interfaceC58034PoK).A01, c51829MvX2.A01)) {
                        if (i != -1) {
                            ArrayList A0U = AbstractC001800i.A0U(c51147Miq.A00);
                            A0U.set(i, c51829MvX2);
                            List list = c51147Miq.A00;
                            c51147Miq.A00 = A0U;
                            AbstractC66552zX.A00(new C66247U5r(2, list, A0U)).A03(c51147Miq);
                            return;
                        }
                        return;
                    }
                    i++;
                }
            }
        }
    }

    public static final void A0H(ClipsStackedTimelineFragment clipsStackedTimelineFragment, boolean z) {
        String str;
        ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
        if (clipsStackedTimelineViewController == null) {
            str = "viewController";
        } else {
            ((OXZ) clipsStackedTimelineViewController).A02 = z;
            C55103ObG c55103ObG = clipsStackedTimelineFragment.A0B;
            if (c55103ObG == null) {
                str = "audioElementTracksManager";
            } else {
                Iterator A01 = C55103ObG.A01(c55103ObG);
                while (A01.hasNext()) {
                    MSW.A0U(A01).A02 = z;
                }
                Iterator A00 = C55103ObG.A00(c55103ObG);
                while (A00.hasNext()) {
                    MSW.A0U(A00).A02 = z;
                }
                C54843OMo c54843OMo = clipsStackedTimelineFragment.A0D;
                if (c54843OMo == null) {
                    str = "timedElementTracksManager";
                } else {
                    Iterator it = c54843OMo.A0C.iterator();
                    while (it.hasNext()) {
                        MSW.A0U(it).A02 = z;
                    }
                    Iterator it2 = c54843OMo.A0B.iterator();
                    while (it2.hasNext()) {
                        MSW.A0U(it2).A02 = z;
                    }
                    return;
                }
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    private final void A0I(C128175qm c128175qm, boolean z) {
        String str;
        String str2;
        AudioOverlayTrack audioOverlayTrack = c128175qm.A0N;
        String str3 = null;
        if (audioOverlayTrack == null) {
            List list = c128175qm.A0p;
            if (list != null) {
                audioOverlayTrack = (AudioOverlayTrack) AbstractC001800i.A0L(list);
            } else {
                audioOverlayTrack = null;
            }
        }
        if (z) {
            List list2 = c128175qm.A0p;
            if (list2 != null && list2.size() > 0) {
                MSY.A0L(this).A02.A02();
                return;
            } else {
                MSY.A0L(this).A02.A06("undo_redo", true);
                return;
            }
        }
        C447024a c447024a = MSY.A0L(this).A02;
        if (audioOverlayTrack != null) {
            str = audioOverlayTrack.A0A;
            str2 = audioOverlayTrack.A0B;
            MusicAssetModel musicAssetModel = audioOverlayTrack.A08;
            if (musicAssetModel != null) {
                str3 = musicAssetModel.A0I;
            }
        } else {
            str = null;
            str2 = null;
        }
        AbstractC167027dH.A10(c447024a);
        C447024a.A01(c447024a, "user_post_capture_undo_redo_restored_music", str, str2, str3, null, null, null, null, null);
    }

    public static final boolean A0J(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        C187358Sd c187358Sd = clipsStackedTimelineFragment.A0d;
        if (c187358Sd != null) {
            if (!(c187358Sd.A0E() instanceof C187568Sz)) {
                C187358Sd c187358Sd2 = clipsStackedTimelineFragment.A0d;
                if (c187358Sd2 != null) {
                    if (!(c187358Sd2.A0E() instanceof C187558Sy)) {
                        return false;
                    }
                }
            }
            return true;
        }
        C14360o3.A0F("clipsTimelineEditorViewModel");
        throw C00O.createAndThrow();
    }

    public static final boolean A0K(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        C187358Sd c187358Sd = clipsStackedTimelineFragment.A0d;
        if (c187358Sd != null) {
            if (!(c187358Sd.A0E() instanceof C187538Sv)) {
                C187358Sd c187358Sd2 = clipsStackedTimelineFragment.A0d;
                if (c187358Sd2 != null) {
                    if (!(c187358Sd2.A0E() instanceof C187508Ss)) {
                        C187358Sd c187358Sd3 = clipsStackedTimelineFragment.A0d;
                        if (c187358Sd3 != null) {
                            if (!(c187358Sd3.A0E() instanceof C187518St)) {
                                return false;
                            }
                        }
                    }
                }
            }
            return true;
        }
        C14360o3.A0F("clipsTimelineEditorViewModel");
        throw C00O.createAndThrow();
    }

    public static final boolean A0L(ClipsStackedTimelineFragment clipsStackedTimelineFragment, AbstractC187378Sf abstractC187378Sf) {
        if (!(abstractC187378Sf instanceof C8T9) && !(abstractC187378Sf instanceof C8TC)) {
            if (abstractC187378Sf instanceof C187478Sp) {
                UserSession A0r = AbstractC166987dD.A0r(((AbstractC52130N5e) clipsStackedTimelineFragment).A05);
                if (C18U.A06(AbstractC166997dE.A0U(A0r), A0r, 36320064521641954L)) {
                    return true;
                }
                return false;
            }
            return false;
        }
        return true;
    }

    public static final boolean A0M(ClipsStackedTimelineFragment clipsStackedTimelineFragment, EnumC189218Zt enumC189218Zt) {
        String str;
        C187358Sd c187358Sd = clipsStackedTimelineFragment.A0d;
        if (c187358Sd == null) {
            str = "clipsTimelineEditorViewModel";
        } else {
            AbstractC187378Sf A0E = c187358Sd.A0E();
            if ((A0E instanceof C8TF) && enumC189218Zt == EnumC189218Zt.A04) {
                ClipsCreationViewModel clipsCreationViewModel = clipsStackedTimelineFragment.A0Z;
                if (clipsCreationViewModel == null) {
                    str = "clipsCreationViewModel";
                } else {
                    Integer A0I = clipsCreationViewModel.A0I(((C8TF) A0E).A00);
                    if (A0I != null) {
                        int intValue = A0I.intValue();
                        ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
                        if (clipsStackedTimelineViewController == null) {
                            str = "viewController";
                        } else {
                            clipsStackedTimelineViewController.A0B.Efp(intValue, true, 0);
                            return true;
                        }
                    } else {
                        return true;
                    }
                }
            } else {
                return false;
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public final void A0P() {
        int i;
        C187538Sv c187538Sv;
        NI5 ni5 = this.A0E;
        String str = "videoTrackViewController";
        if (ni5 != null) {
            if (((OXZ) ni5).A02) {
                ClipsStackedTimelineViewController clipsStackedTimelineViewController = this.A0F;
                if (clipsStackedTimelineViewController == null) {
                    str = "viewController";
                } else {
                    TextView textView = clipsStackedTimelineViewController.transitionEffectLabel;
                    if (textView != null) {
                        textView.setVisibility(8);
                        ClipsTimelineActionBarViewController clipsTimelineActionBarViewController = this.A0G;
                        if (clipsTimelineActionBarViewController == null) {
                            str = "actionBarViewController";
                        } else {
                            O7M o7m = clipsTimelineActionBarViewController.A00;
                            if (o7m == null) {
                                str = "buttonDebouncer";
                            } else {
                                o7m.A01 = true;
                                NI5 ni52 = this.A0E;
                                if (ni52 != null) {
                                    C57523Pfx A00 = C57523Pfx.A00(this, 35);
                                    C54680ODg c54680ODg = ni52.A02;
                                    NI5.A01(ni52, c54680ODg.A04, 0L, false);
                                    C87H c87h = ni52.A0K.A0K;
                                    c87h.A04();
                                    MSX.A1B(c87h.A08, true);
                                    c87h.A01();
                                    MSX.A1B(c87h.A05, false);
                                    ((OXZ) ni52).A02 = false;
                                    ((CustomScrollingLinearLayoutManager) ni52.A0E).A01 = true;
                                    RecyclerView recyclerView = ni52.A0A;
                                    AbstractC187378Sf A0E = ni52.A0J.A0E();
                                    if ((A0E instanceof C187538Sv) && (c187538Sv = (C187538Sv) A0E) != null) {
                                        i = c187538Sv.A00;
                                    } else {
                                        i = 0;
                                    }
                                    int i2 = ni52.A06;
                                    AbstractC55200OeA.A06(recyclerView, ni52.A0H, new C57256Pbe(17, A00, ni52), C57747Pja.A00(ni52, 24), i, i2, ni52.A01, c54680ODg.A05, false);
                                    C55103ObG c55103ObG = this.A0B;
                                    if (c55103ObG == null) {
                                        str = "audioElementTracksManager";
                                    } else {
                                        Iterator A01 = C55103ObG.A01(c55103ObG);
                                        while (A01.hasNext()) {
                                            NI7.A06(A01, 0);
                                        }
                                        Iterator A002 = C55103ObG.A00(c55103ObG);
                                        while (A002.hasNext()) {
                                            NI7.A06(A002, 0);
                                        }
                                        C54843OMo c54843OMo = this.A0D;
                                        if (c54843OMo == null) {
                                            str = "timedElementTracksManager";
                                        } else {
                                            c54843OMo.A04(0);
                                            return;
                                        }
                                    }
                                }
                            }
                        }
                    } else {
                        str = "transitionEffectLabel";
                    }
                }
            } else {
                return;
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    /* JADX WARN: Removed duplicated region for block: B:27:0x006d  */
    /* JADX WARN: Removed duplicated region for block: B:28:0x0070  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void A0Q() {
        /*
            Method dump skipped, instructions count: 260
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: com.instagram.creation.capture.quickcapture.sundial.edit.ClipsStackedTimelineFragment.A0Q():void");
    }

    public final void A0R() {
        Dialog dialog;
        String str;
        C183298Bb c183298Bb = this.A0l;
        if (c183298Bb == null) {
            str = "bitmapTimelineViewModel";
        } else {
            AbstractC43594JPz.A1T(c183298Bb.A0A);
            C55103ObG c55103ObG = this.A0B;
            if (c55103ObG == null) {
                str = "audioElementTracksManager";
            } else {
                Iterator A01 = C55103ObG.A01(c55103ObG);
                while (A01.hasNext()) {
                    C51164Mj7 c51164Mj7 = MSW.A0T(A01).A0D;
                    MSW.A09(c51164Mj7.A05).removeCallbacks(c51164Mj7.A04);
                }
                Iterator A00 = C55103ObG.A00(c55103ObG);
                while (A00.hasNext()) {
                    C51164Mj7 c51164Mj72 = MSW.A0T(A00).A0D;
                    MSW.A09(c51164Mj72.A05).removeCallbacks(c51164Mj72.A04);
                }
                MediaPlayer mediaPlayer = this.A04;
                if (mediaPlayer != null) {
                    mediaPlayer.reset();
                }
                ClipsTimelineBottomSheetViewController clipsTimelineBottomSheetViewController = this.A0L;
                if (clipsTimelineBottomSheetViewController != null) {
                    clipsTimelineBottomSheetViewController.onPause();
                }
                C55081Oab.A00();
                ClipsStackedTimelineViewController clipsStackedTimelineViewController = this.A0F;
                String str2 = "viewController";
                if (clipsStackedTimelineViewController != null) {
                    AbstractC72473Mu abstractC72473Mu = clipsStackedTimelineViewController.educationNuxFragment;
                    if (abstractC72473Mu != null && (dialog = abstractC72473Mu.A01) != null && dialog.isShowing()) {
                        ClipsStackedTimelineViewController clipsStackedTimelineViewController2 = this.A0F;
                        if (clipsStackedTimelineViewController2 != null) {
                            AbstractC72473Mu abstractC72473Mu2 = clipsStackedTimelineViewController2.educationNuxFragment;
                            if (abstractC72473Mu2 != null) {
                                abstractC72473Mu2.A08();
                            }
                            C87H c87h = this.A0j;
                            if (c87h == null) {
                                str = "videoPlaybackViewModel";
                            } else {
                                c87h.A03();
                            }
                        }
                    }
                    C187358Sd c187358Sd = this.A0d;
                    str2 = "clipsTimelineEditorViewModel";
                    if (c187358Sd != null) {
                        AbstractC187378Sf A0E = c187358Sd.A0E();
                        if (A0E instanceof C187478Sp) {
                            C187358Sd c187358Sd2 = this.A0d;
                            if (c187358Sd2 != null) {
                                MSX.A1L(c187358Sd2, ((C187478Sp) A0E).A00);
                                C448124l c448124l = MSY.A0L(this).A09;
                                C25531Mh A0G = MSW.A0G(c448124l);
                                if (c448124l.A0P() && AbstractC25226BEj.A1Z(A0G)) {
                                    MSW.A1W(A0G);
                                    A0G.A0q("TIMELINE_SCALE_TAP");
                                    C448124l.A00(A0G, c448124l);
                                    AbstractC50522MSa.A1G(A0G, c448124l.A0J(), c448124l);
                                    A0G.A0O("is_timeline", true);
                                    A0G.Cht();
                                    return;
                                }
                                return;
                            }
                        } else {
                            return;
                        }
                    }
                }
                C14360o3.A0F(str2);
                throw C00O.createAndThrow();
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public final void A0S() {
        C50868Mdz c50868Mdz = this.A0h;
        String str = "stackedTimelineViewModel";
        EnumC187428Sk enumC187428Sk = null;
        if (c50868Mdz != null) {
            c50868Mdz.A0K();
            C187418Sj c187418Sj = this.A0b;
            if (c187418Sj == null) {
                str = "clipsStackedTimelineVideoPreviewSizeProvider";
            } else {
                C50868Mdz c50868Mdz2 = this.A0h;
                if (c50868Mdz2 != null) {
                    int A0A = MSZ.A0A(c50868Mdz2.A0Y);
                    if (this.A0r) {
                        enumC187428Sk = EnumC187428Sk.A0C;
                    }
                    c187418Sj.A0E(enumC187428Sk, A0A);
                    C183298Bb c183298Bb = this.A0l;
                    if (c183298Bb == null) {
                        str = "bitmapTimelineViewModel";
                    } else {
                        AbstractC166997dE.A1Y(c183298Bb.A0A, true);
                        ClipsTimelineActionBarViewController clipsTimelineActionBarViewController = this.A0G;
                        if (clipsTimelineActionBarViewController == null) {
                            str = "actionBarViewController";
                        } else {
                            Integer num = clipsTimelineActionBarViewController.A01;
                            if (num != null) {
                                int intValue = num.intValue();
                                LinearLayoutManager linearLayoutManager = clipsTimelineActionBarViewController.linearLayoutManager;
                                if (linearLayoutManager != null) {
                                    linearLayoutManager.A1O(intValue);
                                }
                            }
                            MediaPlayer mediaPlayer = this.A04;
                            if (mediaPlayer != null) {
                                mediaPlayer.reset();
                            }
                            ClipsTimelineBottomSheetViewController clipsTimelineBottomSheetViewController = this.A0L;
                            if (clipsTimelineBottomSheetViewController != null) {
                                clipsTimelineBottomSheetViewController.onResume();
                                return;
                            }
                            return;
                        }
                    }
                }
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public final void A0T() {
        C187358Sd c187358Sd = this.A0d;
        if (c187358Sd == null) {
            C14360o3.A0F("clipsTimelineEditorViewModel");
            throw C00O.createAndThrow();
        }
        c187358Sd.A0G(C52415NHl.A00);
    }

    public final void A0U() {
        C187358Sd c187358Sd = this.A0d;
        if (c187358Sd == null) {
            C14360o3.A0F("clipsTimelineEditorViewModel");
            throw C00O.createAndThrow();
        }
        c187358Sd.A0G(new C8TB(null, null, null, -1, false));
    }

    public final void A0V() {
        int i;
        int i2;
        int i3;
        Object obj;
        String str;
        C183558Ce c183558Ce;
        C87H c87h = this.A0j;
        if (c87h == null) {
            str = "videoPlaybackViewModel";
        } else {
            C87J A0P = MSX.A0P(c87h);
            boolean z = false;
            if (A0P != null) {
                i = A0P.CFM();
            } else {
                i = 0;
            }
            ClipsCreationViewModel clipsCreationViewModel = this.A0Z;
            String str2 = "clipsCreationViewModel";
            if (clipsCreationViewModel != null) {
                C84B A0N = MSY.A0N(clipsCreationViewModel);
                if (A0N != null) {
                    i2 = MSW.A06(A0N);
                } else {
                    i2 = 0;
                }
                ClipsCreationViewModel clipsCreationViewModel2 = this.A0Z;
                if (clipsCreationViewModel2 != null) {
                    int A04 = MSW.A04(clipsCreationViewModel2);
                    C187418Sj c187418Sj = this.A0c;
                    if (c187418Sj == null) {
                        str2 = "clipsTimelineButtonEventProvider";
                    } else {
                        c187418Sj.A0F(C56290OzA.A00);
                        ClipsCreationViewModel clipsCreationViewModel3 = this.A0Z;
                        if (clipsCreationViewModel3 != null) {
                            C09530e4 c09530e4 = null;
                            if (!clipsCreationViewModel3.A09 && (c183558Ce = clipsCreationViewModel3.A02) != null) {
                                ClipsCreationDraftViewModel clipsCreationDraftViewModel = c183558Ce.A00;
                                ClipsDraftRepository clipsDraftRepository = clipsCreationDraftViewModel.A0G;
                                C193658hl c193658hl = clipsDraftRepository.A04;
                                ArrayList arrayList = c193658hl.A00;
                                if (!arrayList.isEmpty()) {
                                    C09530e4 c09530e42 = (C09530e4) AnonymousClass016.A15(arrayList);
                                    MSX.A1S(c193658hl.A02, MSZ.A0A(r1) - 1);
                                    if (c09530e42 != null) {
                                        C128175qm A01 = ClipsCreationDraftViewModel.A01(clipsCreationDraftViewModel);
                                        if (A01 == null) {
                                            AbstractC12120kG.A07(AbstractC43591JPw.A00(242), "Draft Snapshot is null when redo triggers undo snapshot", null);
                                        } else {
                                            Object obj2 = c09530e42.A00;
                                            EnumC191648eM enumC191648eM = (EnumC191648eM) obj2;
                                            c193658hl.A01(enumC191648eM, A01);
                                            C128175qm c128175qm = (C128175qm) c09530e42.A01;
                                            clipsDraftRepository.A0N(c128175qm);
                                            ClipsCreationViewModel.A04(clipsCreationViewModel3, c128175qm);
                                            c09530e4 = c09530e42;
                                            Context context = getContext();
                                            if (context != null) {
                                                String A0T = AnonymousClass001.A0T(context.getString(2131952150), context.getString(enumC191648eM.A00), ' ');
                                                C14360o3.A0B(A0T, 1);
                                                C9GR.A03(context, A0T, null, 0);
                                                if (obj2 == EnumC191648eM.A0X) {
                                                    ClipsCreationViewModel clipsCreationViewModel4 = this.A0Z;
                                                    if (clipsCreationViewModel4 != null) {
                                                        C84K c84k = clipsCreationViewModel4.A0K.A0A;
                                                        String str3 = c84k.A00;
                                                        if (str3 != null) {
                                                            try {
                                                                MSZ.A1N(c84k.A01.A00(str3));
                                                            } catch (IOException | SecurityException unused) {
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            ClipsCreationViewModel clipsCreationViewModel5 = this.A0Z;
                            if (clipsCreationViewModel5 != null) {
                                C84B A0N2 = MSY.A0N(clipsCreationViewModel5);
                                if (A0N2 != null) {
                                    i3 = MSW.A06(A0N2);
                                } else {
                                    i3 = 0;
                                }
                                A03(i3 - i2);
                                A04(A04, i);
                                C50868Mdz c50868Mdz = this.A0h;
                                if (c50868Mdz == null) {
                                    str = "stackedTimelineViewModel";
                                } else {
                                    c50868Mdz.A0L();
                                    if (c09530e4 != null && ((obj = c09530e4.A00) == EnumC191648eM.A04 || obj == EnumC191648eM.A08 || obj == EnumC191648eM.A09)) {
                                        if (obj == EnumC191648eM.A08) {
                                            z = true;
                                        }
                                        A0I((C128175qm) c09530e4.A01, z);
                                    }
                                    C22C A0L = MSY.A0L(this);
                                    if (A0L.A0J() != null) {
                                        C22C.A0C(A0L, "TIMELINE_REDO_TAP");
                                        return;
                                    }
                                    return;
                                }
                            }
                        }
                    }
                }
            }
            C14360o3.A0F(str2);
            throw C00O.createAndThrow();
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    @Override // X.InterfaceC11380iw
    public final String getModuleName() {
        if (this.A0r) {
            return "clips_music_editor";
        }
        return "clips_timeline_editor";
    }

    @Override // X.InterfaceC60072op
    public final boolean onBackPressed() {
        C187358Sd c187358Sd;
        AbstractC187378Sf A0M;
        int segmentIndex;
        C115475Kh c115475Kh;
        C187358Sd c187358Sd2 = this.A0d;
        String str = "clipsTimelineEditorViewModel";
        if (c187358Sd2 != null) {
            Object A0E = c187358Sd2.A0E();
            if (A0E instanceof C187538Sv) {
                A0P();
                return true;
            }
            if (A0E instanceof C8T9) {
                ClipsTimelineBottomSheetViewController clipsTimelineBottomSheetViewController = this.A0L;
                if (clipsTimelineBottomSheetViewController == null) {
                    return true;
                }
                clipsTimelineBottomSheetViewController.A03(true);
                return true;
            }
            if (A0E instanceof C187548Sw) {
                ClipsStackedTimelineViewController clipsStackedTimelineViewController = this.A0F;
                if (clipsStackedTimelineViewController == null) {
                    str = "viewController";
                } else {
                    clipsStackedTimelineViewController.A0R();
                    C55103ObG c55103ObG = this.A0B;
                    if (c55103ObG == null) {
                        str = "audioElementTracksManager";
                    } else {
                        C187548Sw c187548Sw = (C187548Sw) A0E;
                        int i = c187548Sw.A01;
                        c55103ObG.A02(i);
                        C187358Sd c187358Sd3 = this.A0d;
                        if (c187358Sd3 != null) {
                            c187358Sd3.A0G(new C8T3(c187548Sw.A00, i));
                            NI5 ni5 = this.A0E;
                            if (ni5 == null) {
                                str = "videoTrackViewController";
                            } else {
                                ni5.A0A.setAlpha(1.0f);
                                C54843OMo c54843OMo = this.A0D;
                                if (c54843OMo == null) {
                                    str = "timedElementTracksManager";
                                } else {
                                    c54843OMo.A02(1.0f);
                                    A0E(this, EnumC53170NfR.A03);
                                    return true;
                                }
                            }
                        }
                    }
                }
            } else {
                if (A0E instanceof C187508Ss) {
                    A0Q();
                    return true;
                }
                if (!(A0E instanceof C8TE)) {
                    if (A0E instanceof C187528Su) {
                        C56048OuM c56048OuM = this.A0P;
                        if (c56048OuM == null) {
                            return true;
                        }
                        C187528Su c187528Su = (C187528Su) A0E;
                        C14360o3.A0B(c187528Su, 0);
                        C84B A0N = MSY.A0N(c56048OuM.A08);
                        HashMap hashMap = c56048OuM.A0B;
                        Set<Number> keySet = hashMap.keySet();
                        C14360o3.A07(keySet);
                        for (Number number : keySet) {
                            Float f = null;
                            if (A0N != null) {
                                c115475Kh = MSW.A0V(A0N, MSX.A05(number));
                            } else {
                                c115475Kh = null;
                            }
                            Number A0W = AbstractC31171DnF.A0W(number, hashMap);
                            if (A0W != null) {
                                float floatValue = A0W.floatValue();
                                if (c115475Kh != null) {
                                    f = Float.valueOf(Math.abs(c115475Kh.A00));
                                }
                                if (!C14360o3.A0I(f, floatValue)) {
                                    C55081Oab.A00();
                                    c56048OuM.A01 = 0L;
                                    c56048OuM.A0A.A0K.A01();
                                    C193328hC A0I = AbstractC31171DnF.A0I(c56048OuM.A04);
                                    A0I.A0A(2131955838);
                                    A0I.A09(2131955837);
                                    A0I.A04();
                                    A0I.A0L(DialogInterfaceOnClickListenerC55321Ogj.A00(c187528Su, c56048OuM, 15), 2131955836);
                                    A0I.A0H(DialogInterfaceOnClickListenerC55321Ogj.A00(c187528Su, c56048OuM, 16), 2131955840);
                                    AbstractC166987dD.A1W(A0I);
                                    return true;
                                }
                            }
                        }
                        c187358Sd = c56048OuM.A09;
                        segmentIndex = c187528Su.A00;
                    } else {
                        if (A0E instanceof C187518St) {
                            C55138Oc6 c55138Oc6 = this.A0O;
                            if (c55138Oc6 == null) {
                                return true;
                            }
                            c55138Oc6.A03();
                            return true;
                        }
                        if (A0E instanceof InterfaceC187498Sr) {
                            InterfaceC187498Sr interfaceC187498Sr = (InterfaceC187498Sr) A0E;
                            if (interfaceC187498Sr == null) {
                                return true;
                            }
                            c187358Sd = this.A0d;
                            if (c187358Sd != null) {
                                segmentIndex = interfaceC187498Sr.getSegmentIndex();
                            }
                        } else if (A0E instanceof C8TG) {
                            C55081Oab.A00();
                            MSY.A0L(this).A0h();
                            return false;
                        }
                    }
                    A0M = new C8TF(segmentIndex);
                    c187358Sd.A0G(A0M);
                    return true;
                }
                c187358Sd = this.A0d;
                if (c187358Sd != null) {
                    A0M = MSX.A0M();
                    c187358Sd.A0G(A0M);
                    return true;
                }
            }
        }
        C14360o3.A0F(str);
        throw C00O.createAndThrow();
    }

    public ClipsStackedTimelineFragment() {
        C57523Pfx A00 = C57523Pfx.A00(this, 34);
        C57523Pfx A002 = C57523Pfx.A00(this, 45);
        EnumC09460dv enumC09460dv = EnumC09460dv.A02;
        InterfaceC09390do A003 = AbstractC09440dt.A00(enumC09460dv, C57523Pfx.A00(A002, 46));
        this.A15 = AbstractC25225BEi.A0a(C57523Pfx.A00(A003, 47), A00, new C57256Pbe(14, null, A003), AbstractC25225BEi.A1D(C50865Mdw.class));
        this.A11 = AbstractC09440dt.A01(C57523Pfx.A00(this, 31));
        this.A01 = -1;
        this.A14 = AbstractC25225BEi.A0a(C57523Pfx.A00(this, 44), C57523Pfx.A00(this, 33), new C57256Pbe(13, null, this), AbstractC25225BEi.A1D(C8BE.class));
        this.A16 = C1XM.A00(C57523Pfx.A00(this, 36));
        this.A17 = C1XM.A00(C57523Pfx.A00(this, 37));
        C57523Pfx A004 = C57523Pfx.A00(this, 32);
        InterfaceC09390do A005 = AbstractC09440dt.A00(enumC09460dv, C57523Pfx.A00(C57523Pfx.A00(this, 48), 49));
        this.A13 = AbstractC25225BEi.A0a(new C57521Pfv(A005, 0), A004, new C57256Pbe(15, null, A005), AbstractC25225BEi.A1D(C50858Mdp.class));
    }

    public static AHF A01(AbstractC52130N5e abstractC52130N5e) {
        C183348Bh A00 = AbstractC183338Bg.A00(abstractC52130N5e.A0N());
        C1QT c1qt = A00.A0J;
        long j = A00.A0A;
        AHF ahf = new AHF(c1qt);
        ahf.A01 = j;
        return ahf;
    }

    private final void A04(int i, int i2) {
        if (isAdded() && getContext() != null) {
            ClipsStackedTimelineViewController clipsStackedTimelineViewController = this.A0F;
            if (clipsStackedTimelineViewController != null) {
                ClipsCreationViewModel clipsCreationViewModel = this.A0Z;
                if (clipsCreationViewModel != null) {
                    clipsStackedTimelineViewController.A0V(MSW.A04(clipsCreationViewModel), false);
                    ClipsCreationViewModel clipsCreationViewModel2 = this.A0Z;
                    if (clipsCreationViewModel2 != null) {
                        if (i - MSW.A04(clipsCreationViewModel2) != 0) {
                            ClipsStackedTimelineViewController clipsStackedTimelineViewController2 = this.A0F;
                            if (clipsStackedTimelineViewController2 != null) {
                                clipsStackedTimelineViewController2.A0E();
                                A0C(this, i2);
                                return;
                            }
                        } else {
                            return;
                        }
                    }
                }
                C14360o3.A0F("clipsCreationViewModel");
                throw C00O.createAndThrow();
            }
            C14360o3.A0F("viewController");
            throw C00O.createAndThrow();
        }
    }

    public static final void A0A(ClipsStackedTimelineFragment clipsStackedTimelineFragment) {
        int i;
        String str;
        C8Ba A03 = C8BW.A03(clipsStackedTimelineFragment.requireContext(), 500);
        ClipsCreationViewModel clipsCreationViewModel = clipsStackedTimelineFragment.A0Z;
        String str2 = "clipsCreationViewModel";
        if (clipsCreationViewModel != null) {
            C84B A0N = MSY.A0N(clipsCreationViewModel);
            if (A0N == null) {
                i = 500;
            } else {
                int A00 = C8Bc.A00();
                int i2 = 1;
                while (true) {
                    i = i2 * 500;
                    int A002 = A00(A0N, i);
                    if (clipsStackedTimelineFragment.A0l == null) {
                        str = "bitmapTimelineViewModel";
                        break;
                    } else {
                        if (A00 >= A03.A00 * A002) {
                            break;
                        }
                        i2++;
                        if (i2 >= 11) {
                            i = 10000;
                            break;
                        }
                    }
                }
            }
            ClipsCreationViewModel clipsCreationViewModel2 = clipsStackedTimelineFragment.A0Z;
            if (clipsCreationViewModel2 != null) {
                int A003 = A00(MSY.A0N(clipsCreationViewModel2), i);
                C183298Bb c183298Bb = clipsStackedTimelineFragment.A0l;
                str = "bitmapTimelineViewModel";
                if (c183298Bb != null) {
                    c183298Bb.A02(C8BW.A03(clipsStackedTimelineFragment.requireContext(), i), C8BW.A02(clipsStackedTimelineFragment.requireContext()));
                    C183298Bb c183298Bb2 = clipsStackedTimelineFragment.A0l;
                    if (c183298Bb2 != null) {
                        int min = Math.min(A03.A00 * A003, C8Bc.A00());
                        if (min > 0) {
                            c183298Bb2.A08.resize(min);
                        }
                        C51161Mj4 c51161Mj4 = clipsStackedTimelineFragment.A0v;
                        if (c51161Mj4 == null) {
                            str2 = "videoTrackAdapter";
                        } else {
                            c51161Mj4.A00 = i;
                            return;
                        }
                    }
                }
                C14360o3.A0F(str);
                throw C00O.createAndThrow();
            }
        }
        C14360o3.A0F(str2);
        throw C00O.createAndThrow();
    }

    public static final void A0C(ClipsStackedTimelineFragment clipsStackedTimelineFragment, int i) {
        Context context = clipsStackedTimelineFragment.getContext();
        if (context != null) {
            int A00 = AbstractC53880NsC.A00(context, i);
            ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
            String str = "viewController";
            if (clipsStackedTimelineViewController != null) {
                clipsStackedTimelineViewController.A0I(A00 - ((OXZ) clipsStackedTimelineViewController).A00);
                NI5 ni5 = clipsStackedTimelineFragment.A0E;
                str = "videoTrackViewController";
                if (ni5 != null) {
                    ni5.A0I(A00 - ((OXZ) ni5).A00);
                    C55103ObG c55103ObG = clipsStackedTimelineFragment.A0B;
                    if (c55103ObG == null) {
                        str = "audioElementTracksManager";
                    } else {
                        EnumC53170NfR enumC53170NfR = EnumC53170NfR.A03;
                        c55103ObG.A05(enumC53170NfR, A00, -1, true);
                        C54843OMo c54843OMo = clipsStackedTimelineFragment.A0D;
                        if (c54843OMo == null) {
                            str = "timedElementTracksManager";
                        } else {
                            c54843OMo.A05(enumC53170NfR, A00, -1, true);
                            A0B(clipsStackedTimelineFragment);
                            return;
                        }
                    }
                }
            }
            C14360o3.A0F(str);
            throw C00O.createAndThrow();
        }
    }

    /* JADX WARN: Failed to find 'out' block for switch in B:2:0x000d. Please report as an issue. */
    public static final void A0E(ClipsStackedTimelineFragment clipsStackedTimelineFragment, EnumC53170NfR enumC53170NfR) {
        switch (enumC53170NfR.ordinal()) {
            case 0:
                NI5 ni5 = clipsStackedTimelineFragment.A0E;
                if (ni5 != null) {
                    ni5.A0L(true);
                    C55103ObG c55103ObG = clipsStackedTimelineFragment.A0B;
                    if (c55103ObG != null) {
                        c55103ObG.A07(true);
                        C54843OMo c54843OMo = clipsStackedTimelineFragment.A0D;
                        if (c54843OMo != null) {
                            c54843OMo.A06(true);
                            ClipsStackedTimelineViewController clipsStackedTimelineViewController = clipsStackedTimelineFragment.A0F;
                            if (clipsStackedTimelineViewController != null) {
                                clipsStackedTimelineViewController.A0L(true);
                                return;
                            }
                            C14360o3.A0F("viewController");
                            throw C00O.createAndThrow();
                        }
                        C14360o3.A0F("timedElementTracksManager");
                        throw C00O.createAndThrow();
                    }
                    C14360o3.A0F("audioElementTracksManager");
                    throw C00O.createAndThrow();
                }
                C14360o3.A0F("videoTrackViewController");
                throw C00O.createAndThrow();
            case 1:
                C55103ObG c55103ObG2 = clipsStackedTimelineFragment.A0B;
                if (c55103ObG2 != null) {
                    c55103ObG2.A07(false);
                    C54843OMo c54843OMo2 = clipsStackedTimelineFragment.A0D;
                    if (c54843OMo2 != null) {
                        c54843OMo2.A06(false);
                        ClipsStackedTimelineViewController clipsStackedTimelineViewController2 = clipsStackedTimelineFragment.A0F;
                        if (clipsStackedTimelineViewController2 != null) {
                            clipsStackedTimelineViewController2.A0L(false);
                            return;
                        }
                        C14360o3.A0F("viewController");
                        throw C00O.createAndThrow();
                    }
                    C14360o3.A0F("timedElementTracksManager");
                    throw C00O.createAndThrow();
                }
                C14360o3.A0F("audioElementTracksManager");
                throw C00O.createAndThrow();
            default:
                NI5 ni52 = clipsStackedTimelineFragment.A0E;
                if (ni52 != null) {
                    ni52.A0L(false);
                    C54843OMo c54843OMo3 = clipsStackedTimelineFragment.A0D;
                    if (c54843OMo3 != null) {
                        c54843OMo3.A06(false);
                        ClipsStackedTimelineViewController clipsStackedTimelineViewController3 = clipsStackedTimelineFragment.A0F;
                        if (clipsStackedTimelineViewController3 != null) {
                            clipsStackedTimelineViewController3.A0L(false);
                            C55103ObG c55103ObG3 = clipsStackedTimelineFragment.A0B;
                            if (c55103ObG3 != null) {
                                Iterator A00 = C55103ObG.A00(c55103ObG3);
                                while (A00.hasNext()) {
                                    MSW.A0U(A00).A0L(false);
                                }
                                return;
                            }
                            C14360o3.A0F("audioElementTracksManager");
                            throw C00O.createAndThrow();
                        }
                        C14360o3.A0F("viewController");
                        throw C00O.createAndThrow();
                    }
                    C14360o3.A0F("timedElementTracksManager");
                    throw C00O.createAndThrow();
                }
                C14360o3.A0F("videoTrackViewController");
                throw C00O.createAndThrow();
        }
    }

    @Override // X.AbstractC52130N5e, androidx.fragment.app.Fragment
    public final void onCreate(Bundle bundle) {
        EnumC222759sG enumC222759sG;
        TargetViewSizeProvider A00;
        InterfaceC58284Psc clipsStackedTimelineMiddleActionBarViewControllerImpl;
        float f;
        float f2;
        int A02 = C0f9.A02(747084410);
        super.onCreate(bundle);
        A01(this).A04("on_create");
        Bundle requireArguments = requireArguments();
        String string = requireArguments.getString("ARG_SELECTED_STICKER_ID");
        if (string != null) {
            this.A10 = string;
        }
        this.A0u = requireArguments.getBoolean("ARG_SWIPE_TO_ENTER_TIMELINE");
        String string2 = requireArguments.getString("ARG_SELECTED_AUDIO_ID");
        if (string2 != null) {
            this.A0o = string2;
        }
        Serializable serializable = requireArguments.getSerializable("ARG_OPEN_TIMELINE_STATE");
        if (serializable instanceof EnumC222759sG) {
            enumC222759sG = (EnumC222759sG) serializable;
        } else {
            enumC222759sG = null;
        }
        this.A0R = enumC222759sG;
        String string3 = requireArguments.getString("ARG_CLIPS_DRAFT_SESSION_ID");
        if (string3 != null) {
            this.A0n = string3;
        }
        requireArguments.setClassLoader(TargetViewSizeProvider.class.getClassLoader());
        try {
            if (Build.VERSION.SDK_INT >= 33) {
                A00 = (TargetViewSizeProvider) requireArguments.getParcelable("ARG_TARGET_VIEW_SIZE_PROVIDER", TargetViewSizeProvider.class);
                if (A00 == null) {
                    A00 = AbstractC58002lE.A00(requireActivity(), AbstractC166987dD.A0r(super.A05));
                }
            } else {
                A00 = (TargetViewSizeProvider) requireArguments.getParcelable("ARG_TARGET_VIEW_SIZE_PROVIDER");
                if (A00 == null) {
                    A00 = AbstractC58002lE.A00(requireActivity(), AbstractC166987dD.A0r(super.A05));
                }
            }
        } catch (IllegalStateException e) {
            AbstractC167017dG.A1J(C18950wb.A01, "ARG_TARGET_VIEW_SIZE_PROVIDER IllegalStateException", e, 613296938);
            A00 = AbstractC58002lE.A00(requireActivity(), AbstractC166987dD.A0r(super.A05));
        }
        this.A0q = requireArguments.getBoolean("ARG_IS_BASEL", false);
        this.A00 = ((NineSixteenLayoutConfigImpl) A00).A06;
        FragmentActivity requireActivity = requireActivity();
        InterfaceC09390do interfaceC09390do = super.A05;
        this.A0Z = (ClipsCreationViewModel) AbstractC50522MSa.A0K(this, requireActivity, AbstractC166987dD.A0r(interfaceC09390do));
        this.A0z = (C1828989k) AbstractC31175DnJ.A0A(this).A00(C1828989k.class);
        this.A0j = ((C87G) AbstractC31175DnJ.A0A(this).A00(C87G.class)).A00("post_capture");
        this.A0l = ((C87G) AbstractC31175DnJ.A0A(this).A00(C87G.class)).A01("post_capture");
        FragmentActivity requireActivity2 = requireActivity();
        UserSession A0r = AbstractC166987dD.A0r(interfaceC09390do);
        FragmentActivity requireActivity3 = requireActivity();
        ClipsCreationViewModel clipsCreationViewModel = this.A0Z;
        if (clipsCreationViewModel != null) {
            C2GT c2gt = clipsCreationViewModel.A0C;
            C87H c87h = this.A0j;
            String str = "videoPlaybackViewModel";
            if (c87h != null) {
                this.A0d = (C187358Sd) MSW.A0F(new C187348Sc(requireActivity3, c2gt, c87h.A0G, A0r), requireActivity2).A00(C187358Sd.class);
                C187418Sj c187418Sj = (C187418Sj) MSW.A0F(new C187408Si(requireActivity(), AbstractC166987dD.A0r(interfaceC09390do)), requireActivity()).A00(C187418Sj.class);
                this.A0c = c187418Sj;
                this.A0b = c187418Sj;
                C187358Sd c187358Sd = this.A0d;
                if (c187358Sd != null) {
                    c187358Sd.A03 = true;
                    MSZ.A1M(c187358Sd);
                    UserSession A0r2 = AbstractC166987dD.A0r(interfaceC09390do);
                    FragmentActivity requireActivity4 = requireActivity();
                    C187358Sd c187358Sd2 = this.A0d;
                    if (c187358Sd2 != null) {
                        ClipsCreationViewModel clipsCreationViewModel2 = this.A0Z;
                        if (clipsCreationViewModel2 != null) {
                            NIX nix = (NIX) MSW.A0F(new NDZ(requireActivity4, A0r2, clipsCreationViewModel2, c187358Sd2, C57523Pfx.A00(this, 38), this.A00), this).A00(NIX.class);
                            this.A0i = nix;
                            if (nix != null) {
                                nix.A0O();
                                NIX nix2 = this.A0i;
                                if (nix2 != null) {
                                    nix2.A02 = this.A00 / 2;
                                    nix2.A0G();
                                    NIX.A00(nix2);
                                    NIX nix3 = this.A0i;
                                    if (nix3 != null) {
                                        NIX.A02(nix3, this.A00 / 2);
                                        this.A04 = new MediaPlayer();
                                        FragmentActivity requireActivity5 = requireActivity();
                                        UserSession A0r3 = AbstractC166987dD.A0r(interfaceC09390do);
                                        ClipsCreationViewModel clipsCreationViewModel3 = this.A0Z;
                                        if (clipsCreationViewModel3 != null) {
                                            C187358Sd c187358Sd3 = this.A0d;
                                            if (c187358Sd3 != null) {
                                                C187418Sj c187418Sj2 = this.A0c;
                                                if (c187418Sj2 != null) {
                                                    C50973Mfg c50973Mfg = (C50973Mfg) MSW.A0F(new C52323NDm(requireActivity5, A0r3, clipsCreationViewModel3, c187418Sj2, c187358Sd3, C57523Pfx.A00(this, 39), this.A00, this.A0q), this).A00(C50973Mfg.class);
                                                    this.A0x = c50973Mfg;
                                                    if (c50973Mfg != null) {
                                                        this.A0f = c50973Mfg.A00(MediaStreamTrack.AUDIO_TRACK_KIND);
                                                        C50973Mfg c50973Mfg2 = this.A0x;
                                                        if (c50973Mfg2 != null) {
                                                            this.A0g = c50973Mfg2.A00("voice_over");
                                                            FragmentActivity requireActivity6 = requireActivity();
                                                            UserSession A0r4 = AbstractC166987dD.A0r(interfaceC09390do);
                                                            FragmentActivity requireActivity7 = requireActivity();
                                                            ClipsCreationViewModel clipsCreationViewModel4 = this.A0Z;
                                                            if (clipsCreationViewModel4 != null) {
                                                                this.A0e = (C8NL) MSW.A0F(new C8NK(requireActivity7, A0r4, clipsCreationViewModel4), requireActivity6).A00(C8NL.class);
                                                                UserSession A0r5 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                FragmentActivity requireActivity8 = requireActivity();
                                                                C187358Sd c187358Sd4 = this.A0d;
                                                                if (c187358Sd4 != null) {
                                                                    ClipsCreationViewModel clipsCreationViewModel5 = this.A0Z;
                                                                    if (clipsCreationViewModel5 != null) {
                                                                        C87H c87h2 = this.A0j;
                                                                        if (c87h2 != null) {
                                                                            C183298Bb c183298Bb = this.A0l;
                                                                            if (c183298Bb != null) {
                                                                                NIW niw = this.A0f;
                                                                                String str2 = "stackedTimelineAudioTrackViewModel";
                                                                                if (niw != null) {
                                                                                    NIW niw2 = this.A0g;
                                                                                    if (niw2 == null) {
                                                                                        str = "stackedTimelineVoiceoverViewModel";
                                                                                    } else {
                                                                                        NIX nix4 = this.A0i;
                                                                                        if (nix4 != null) {
                                                                                            C8NL c8nl = this.A0e;
                                                                                            if (c8nl == null) {
                                                                                                str = "clipsTransformViewModel";
                                                                                            } else {
                                                                                                this.A0h = (C50868Mdz) MSW.A0F(new C52327NDq(requireActivity8, A0r5, A00, clipsCreationViewModel5, c187358Sd4, c8nl, niw, niw2, nix4, c87h2, c183298Bb, this.A0q), this).A00(C50868Mdz.class);
                                                                                                this.A0t = true;
                                                                                                this.A0X = (C87D) MSW.A0F(new C87C(AbstractC166987dD.A0r(interfaceC09390do), requireActivity()), requireActivity()).A00(C87D.class);
                                                                                                this.A0A = (C185278Js) MSW.A0F(new C185268Jr(AbstractC166987dD.A0r(interfaceC09390do), requireActivity()), requireActivity()).A00(C185278Js.class);
                                                                                                this.A0w = (C50866Mdx) MSW.A0F(new C52273NBo(AbstractC166987dD.A0r(interfaceC09390do), requireActivity()), requireActivity()).A00(C50866Mdx.class);
                                                                                                FragmentActivity requireActivity9 = requireActivity();
                                                                                                UserSession A0r6 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                FragmentActivity requireActivity10 = requireActivity();
                                                                                                ClipsCreationViewModel clipsCreationViewModel6 = this.A0Z;
                                                                                                if (clipsCreationViewModel6 != null) {
                                                                                                    this.A0V = (C50986Mft) MSW.A0F(new NCQ(requireActivity10, A0r6, clipsCreationViewModel6.A0S), requireActivity9).A00(C50986Mft.class);
                                                                                                    FragmentActivity requireActivity11 = requireActivity();
                                                                                                    UserSession A0r7 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                    FragmentActivity requireActivity12 = requireActivity();
                                                                                                    ClipsCreationViewModel clipsCreationViewModel7 = this.A0Z;
                                                                                                    if (clipsCreationViewModel7 != null) {
                                                                                                        this.A0W = (C50864Mdv) MSW.A0F(new NCR(requireActivity12, A0r7, clipsCreationViewModel7), requireActivity11).A00(C50864Mdv.class);
                                                                                                        this.A0y = (C51049Mh1) MSW.A0F(new NB4(AbstractC166987dD.A0r(interfaceC09390do)), requireActivity()).A00(C51049Mh1.class);
                                                                                                        FragmentActivity requireActivity13 = requireActivity();
                                                                                                        UserSession A0r8 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                        FragmentActivity requireActivity14 = requireActivity();
                                                                                                        ClipsCreationViewModel clipsCreationViewModel8 = this.A0Z;
                                                                                                        if (clipsCreationViewModel8 != null) {
                                                                                                            this.A0Y = (C8NF) MSW.A0F(new C8NE(requireActivity14, A0r8, clipsCreationViewModel8.A0Q), requireActivity13).A00(C8NF.class);
                                                                                                            FragmentActivity requireActivity15 = requireActivity();
                                                                                                            UserSession A0r9 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                            ClipsCreationViewModel clipsCreationViewModel9 = this.A0Z;
                                                                                                            if (clipsCreationViewModel9 != null) {
                                                                                                                C1828989k c1828989k = this.A0z;
                                                                                                                String str3 = "clipsSourceMediaViewModel";
                                                                                                                if (c1828989k != null) {
                                                                                                                    C187358Sd c187358Sd5 = this.A0d;
                                                                                                                    if (c187358Sd5 != null) {
                                                                                                                        C50868Mdz c50868Mdz = this.A0h;
                                                                                                                        if (c50868Mdz != null) {
                                                                                                                            NIW niw3 = this.A0f;
                                                                                                                            if (niw3 != null) {
                                                                                                                                C89P A0O = A0O();
                                                                                                                                C8NF c8nf = this.A0Y;
                                                                                                                                if (c8nf == null) {
                                                                                                                                    str2 = "clipsColorFilterViewModel";
                                                                                                                                } else {
                                                                                                                                    this.A0a = (C50869Me0) MSW.A0F(new C52324NDn(requireActivity15, A0r9, super.A02, c8nf, clipsCreationViewModel9, A0O, c187358Sd5, niw3, c50868Mdz, c1828989k), this).A00(C50869Me0.class);
                                                                                                                                    this.A0k = new ScaleGestureDetectorOnScaleGestureListenerC81153jk(requireContext());
                                                                                                                                    UserSession A0r10 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                    int i = this.A00;
                                                                                                                                    ClipsCreationViewModel clipsCreationViewModel10 = this.A0Z;
                                                                                                                                    if (clipsCreationViewModel10 != null) {
                                                                                                                                        C187358Sd c187358Sd6 = this.A0d;
                                                                                                                                        if (c187358Sd6 != null) {
                                                                                                                                            C187418Sj c187418Sj3 = this.A0c;
                                                                                                                                            if (c187418Sj3 != null) {
                                                                                                                                                C50869Me0 c50869Me0 = this.A0a;
                                                                                                                                                if (c50869Me0 != null) {
                                                                                                                                                    this.A0G = new ClipsTimelineActionBarViewController(this, A0r10, clipsCreationViewModel10, c50869Me0, c187418Sj3, c187358Sd6, i, true);
                                                                                                                                                    C008102v c008102v = new C008102v(requireContext(), new NI3(this));
                                                                                                                                                    if (this.A0q) {
                                                                                                                                                        ClipsCreationViewModel clipsCreationViewModel11 = this.A0Z;
                                                                                                                                                        if (clipsCreationViewModel11 != null) {
                                                                                                                                                            clipsStackedTimelineMiddleActionBarViewControllerImpl = new BaselStackedTimelineMiddleActionViewControllerImpl(this, clipsCreationViewModel11, this.A00);
                                                                                                                                                        }
                                                                                                                                                    } else {
                                                                                                                                                        C187358Sd c187358Sd7 = this.A0d;
                                                                                                                                                        if (c187358Sd7 != null) {
                                                                                                                                                            C50868Mdz c50868Mdz2 = this.A0h;
                                                                                                                                                            if (c50868Mdz2 != null) {
                                                                                                                                                                clipsStackedTimelineMiddleActionBarViewControllerImpl = new ClipsStackedTimelineMiddleActionBarViewControllerImpl(this, c187358Sd7, c50868Mdz2);
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                    this.A0C = clipsStackedTimelineMiddleActionBarViewControllerImpl;
                                                                                                                                                    UserSession A0r11 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                                    ClipsCreationViewModel clipsCreationViewModel12 = this.A0Z;
                                                                                                                                                    if (clipsCreationViewModel12 != null) {
                                                                                                                                                        C187358Sd c187358Sd8 = this.A0d;
                                                                                                                                                        if (c187358Sd8 != null) {
                                                                                                                                                            C187418Sj c187418Sj4 = this.A0c;
                                                                                                                                                            if (c187418Sj4 != null) {
                                                                                                                                                                C50868Mdz c50868Mdz3 = this.A0h;
                                                                                                                                                                if (c50868Mdz3 != null) {
                                                                                                                                                                    C1828989k c1828989k2 = this.A0z;
                                                                                                                                                                    if (c1828989k2 != null) {
                                                                                                                                                                        ClipsTimelineActionBarViewController clipsTimelineActionBarViewController = this.A0G;
                                                                                                                                                                        str3 = "actionBarViewController";
                                                                                                                                                                        if (clipsTimelineActionBarViewController != null) {
                                                                                                                                                                            InterfaceC58284Psc interfaceC58284Psc = this.A0C;
                                                                                                                                                                            str2 = "middleActionBarViewController";
                                                                                                                                                                            if (interfaceC58284Psc != null) {
                                                                                                                                                                                this.A0F = new ClipsStackedTimelineViewController(c008102v, this, A0r11, interfaceC58284Psc, clipsTimelineActionBarViewController, clipsCreationViewModel12, c187418Sj4, c187358Sd8, c50868Mdz3, c1828989k2, this.A00);
                                                                                                                                                                                UserSession A0r12 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                                                                ClipsStackedTimelineViewController clipsStackedTimelineViewController = this.A0F;
                                                                                                                                                                                if (clipsStackedTimelineViewController != null) {
                                                                                                                                                                                    ClipsCreationViewModel clipsCreationViewModel13 = this.A0Z;
                                                                                                                                                                                    if (clipsCreationViewModel13 != null) {
                                                                                                                                                                                        C187358Sd c187358Sd9 = this.A0d;
                                                                                                                                                                                        if (c187358Sd9 != null) {
                                                                                                                                                                                            C87H c87h3 = this.A0j;
                                                                                                                                                                                            if (c87h3 != null) {
                                                                                                                                                                                                C50868Mdz c50868Mdz4 = this.A0h;
                                                                                                                                                                                                if (c50868Mdz4 != null) {
                                                                                                                                                                                                    C56048OuM c56048OuM = new C56048OuM(requireContext(), A0r12, A00, clipsStackedTimelineViewController, clipsCreationViewModel13, c187358Sd9, c50868Mdz4, c87h3);
                                                                                                                                                                                                    this.A0P = c56048OuM;
                                                                                                                                                                                                    registerLifecycleListener(c56048OuM);
                                                                                                                                                                                                    UserSession A0r13 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                                                                                    ClipsStackedTimelineViewController clipsStackedTimelineViewController2 = this.A0F;
                                                                                                                                                                                                    if (clipsStackedTimelineViewController2 != null) {
                                                                                                                                                                                                        ClipsCreationViewModel clipsCreationViewModel14 = this.A0Z;
                                                                                                                                                                                                        if (clipsCreationViewModel14 != null) {
                                                                                                                                                                                                            C187358Sd c187358Sd10 = this.A0d;
                                                                                                                                                                                                            if (c187358Sd10 != null) {
                                                                                                                                                                                                                C187418Sj c187418Sj5 = this.A0c;
                                                                                                                                                                                                                if (c187418Sj5 != null) {
                                                                                                                                                                                                                    C87H c87h4 = this.A0j;
                                                                                                                                                                                                                    if (c87h4 != null) {
                                                                                                                                                                                                                        C56042OuE c56042OuE = new C56042OuE(A0r13, clipsStackedTimelineViewController2, clipsCreationViewModel14, c187418Sj5, c187358Sd10, c87h4);
                                                                                                                                                                                                                        this.A0N = c56042OuE;
                                                                                                                                                                                                                        registerLifecycleListener(c56042OuE);
                                                                                                                                                                                                                        UserSession A0r14 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                                                                                                        ClipsStackedTimelineViewController clipsStackedTimelineViewController3 = this.A0F;
                                                                                                                                                                                                                        if (clipsStackedTimelineViewController3 != null) {
                                                                                                                                                                                                                            registerLifecycleListener(new C56041OuD(this, A0r14, clipsStackedTimelineViewController3, super.A04));
                                                                                                                                                                                                                            UserSession A0r15 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                                                                                                            ClipsStackedTimelineViewController clipsStackedTimelineViewController4 = this.A0F;
                                                                                                                                                                                                                            if (clipsStackedTimelineViewController4 != null) {
                                                                                                                                                                                                                                ClipsCreationViewModel clipsCreationViewModel15 = this.A0Z;
                                                                                                                                                                                                                                if (clipsCreationViewModel15 != null) {
                                                                                                                                                                                                                                    C187358Sd c187358Sd11 = this.A0d;
                                                                                                                                                                                                                                    if (c187358Sd11 != null) {
                                                                                                                                                                                                                                        C187418Sj c187418Sj6 = this.A0c;
                                                                                                                                                                                                                                        if (c187418Sj6 != null) {
                                                                                                                                                                                                                                            C50869Me0 c50869Me02 = this.A0a;
                                                                                                                                                                                                                                            if (c50869Me02 != null) {
                                                                                                                                                                                                                                                NIX nix5 = this.A0i;
                                                                                                                                                                                                                                                if (nix5 != null) {
                                                                                                                                                                                                                                                    C87H c87h5 = this.A0j;
                                                                                                                                                                                                                                                    if (c87h5 != null) {
                                                                                                                                                                                                                                                        C56047OuL c56047OuL = new C56047OuL(A0r15, clipsStackedTimelineViewController4, clipsCreationViewModel15, c50869Me02, c187418Sj6, c187358Sd11, nix5, c87h5);
                                                                                                                                                                                                                                                        this.A0Q = c56047OuL;
                                                                                                                                                                                                                                                        registerLifecycleListener(c56047OuL);
                                                                                                                                                                                                                                                        UserSession A0r16 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                                                                                                                                        Context requireContext = requireContext();
                                                                                                                                                                                                                                                        ClipsStackedTimelineViewController clipsStackedTimelineViewController5 = this.A0F;
                                                                                                                                                                                                                                                        if (clipsStackedTimelineViewController5 != null) {
                                                                                                                                                                                                                                                            C187418Sj c187418Sj7 = this.A0c;
                                                                                                                                                                                                                                                            if (c187418Sj7 != null) {
                                                                                                                                                                                                                                                                ClipsCreationViewModel clipsCreationViewModel16 = this.A0Z;
                                                                                                                                                                                                                                                                if (clipsCreationViewModel16 != null) {
                                                                                                                                                                                                                                                                    C187358Sd c187358Sd12 = this.A0d;
                                                                                                                                                                                                                                                                    if (c187358Sd12 != null) {
                                                                                                                                                                                                                                                                        C50866Mdx c50866Mdx = this.A0w;
                                                                                                                                                                                                                                                                        if (c50866Mdx == null) {
                                                                                                                                                                                                                                                                            str2 = "jumpCutViewModel";
                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                            C87H c87h6 = this.A0j;
                                                                                                                                                                                                                                                                            if (c87h6 != null) {
                                                                                                                                                                                                                                                                                C50869Me0 c50869Me03 = this.A0a;
                                                                                                                                                                                                                                                                                if (c50869Me03 != null) {
                                                                                                                                                                                                                                                                                    C56045OuH c56045OuH = new C56045OuH(requireContext, A0r16, clipsStackedTimelineViewController5, c50866Mdx, clipsCreationViewModel16, c50869Me03, c187418Sj7, c187358Sd12, c87h6);
                                                                                                                                                                                                                                                                                    this.A0M = c56045OuH;
                                                                                                                                                                                                                                                                                    registerLifecycleListener(c56045OuH);
                                                                                                                                                                                                                                                                                    UserSession A0r17 = AbstractC166987dD.A0r(interfaceC09390do);
                                                                                                                                                                                                                                                                                    C183298Bb c183298Bb2 = this.A0l;
                                                                                                                                                                                                                                                                                    if (c183298Bb2 != null) {
                                                                                                                                                                                                                                                                                        ClipsCreationViewModel clipsCreationViewModel17 = this.A0Z;
                                                                                                                                                                                                                                                                                        if (clipsCreationViewModel17 != null) {
                                                                                                                                                                                                                                                                                            C187358Sd c187358Sd13 = this.A0d;
                                                                                                                                                                                                                                                                                            if (c187358Sd13 != null) {
                                                                                                                                                                                                                                                                                                int i2 = this.A00;
                                                                                                                                                                                                                                                                                                C50868Mdz c50868Mdz5 = this.A0h;
                                                                                                                                                                                                                                                                                                if (c50868Mdz5 != null) {
                                                                                                                                                                                                                                                                                                    MTX A1F = MSW.A1F(c50868Mdz5, 11);
                                                                                                                                                                                                                                                                                                    C87D c87d = this.A0X;
                                                                                                                                                                                                                                                                                                    if (c87d == null) {
                                                                                                                                                                                                                                                                                                        str = "clipsAudioVolumeViewModel";
                                                                                                                                                                                                                                                                                                    } else {
                                                                                                                                                                                                                                                                                                        this.A0v = new C51161Mj4(A0r17, clipsCreationViewModel17, c187358Sd13, c183298Bb2, A1F, new C9GQ(c87d, 3), i2);
                                                                                                                                                                                                                                                                                                        A0A(this);
                                                                                                                                                                                                                                                                                                        InterfaceC60602pj interfaceC60602pj = this.A0C;
                                                                                                                                                                                                                                                                                                        if (interfaceC60602pj != null) {
                                                                                                                                                                                                                                                                                                            registerLifecycleListener(interfaceC60602pj);
                                                                                                                                                                                                                                                                                                            InterfaceC60602pj interfaceC60602pj2 = this.A0G;
                                                                                                                                                                                                                                                                                                            if (interfaceC60602pj2 != null) {
                                                                                                                                                                                                                                                                                                                registerLifecycleListener(interfaceC60602pj2);
                                                                                                                                                                                                                                                                                                                InterfaceC60602pj interfaceC60602pj3 = this.A0F;
                                                                                                                                                                                                                                                                                                                if (interfaceC60602pj3 != null) {
                                                                                                                                                                                                                                                                                                                    registerLifecycleListener(interfaceC60602pj3);
                                                                                                                                                                                                                                                                                                                    ClipsCreationViewModel clipsCreationViewModel18 = this.A0Z;
                                                                                                                                                                                                                                                                                                                    if (clipsCreationViewModel18 != null) {
                                                                                                                                                                                                                                                                                                                        int A04 = MSW.A04(clipsCreationViewModel18);
                                                                                                                                                                                                                                                                                                                        int i3 = this.A00 / 2;
                                                                                                                                                                                                                                                                                                                        Context requireContext2 = requireContext();
                                                                                                                                                                                                                                                                                                                        OZQ.A04 = A04;
                                                                                                                                                                                                                                                                                                                        OZQ.A02 = A04;
                                                                                                                                                                                                                                                                                                                        if (A04 < 15000) {
                                                                                                                                                                                                                                                                                                                            f = 1.0f;
                                                                                                                                                                                                                                                                                                                        } else if (A04 < 30000) {
                                                                                                                                                                                                                                                                                                                            f = 0.5f;
                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                            f = 0.16666666f;
                                                                                                                                                                                                                                                                                                                            if (A04 < 60000) {
                                                                                                                                                                                                                                                                                                                                f = 0.25f;
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                        OZQ.A00 = f;
                                                                                                                                                                                                                                                                                                                        if (A04 < 15000) {
                                                                                                                                                                                                                                                                                                                            f2 = 1000.0f;
                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                            f2 = 10000.0f;
                                                                                                                                                                                                                                                                                                                            if (A04 < 30000) {
                                                                                                                                                                                                                                                                                                                                f2 = 5000.0f;
                                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                        OZQ.A03 = (int) f2;
                                                                                                                                                                                                                                                                                                                        OZQ.A01 = f;
                                                                                                                                                                                                                                                                                                                        float A002 = AbstractC50522MSa.A00(requireContext2, f) * A04;
                                                                                                                                                                                                                                                                                                                        float f3 = i3;
                                                                                                                                                                                                                                                                                                                        if (A002 > f3) {
                                                                                                                                                                                                                                                                                                                            f = (f3 * f) / A002;
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                        OZQ.A01 = f;
                                                                                                                                                                                                                                                                                                                        C008102v c008102v2 = new C008102v(requireContext(), new NI4(this));
                                                                                                                                                                                                                                                                                                                        this.A06 = c008102v2;
                                                                                                                                                                                                                                                                                                                        c008102v2.A00.setIsLongpressEnabled(false);
                                                                                                                                                                                                                                                                                                                        ScaleGestureDetectorOnScaleGestureListenerC81153jk scaleGestureDetectorOnScaleGestureListenerC81153jk = this.A0k;
                                                                                                                                                                                                                                                                                                                        if (scaleGestureDetectorOnScaleGestureListenerC81153jk == null) {
                                                                                                                                                                                                                                                                                                                            str = "scaleGestureDetector";
                                                                                                                                                                                                                                                                                                                        } else {
                                                                                                                                                                                                                                                                                                                            scaleGestureDetectorOnScaleGestureListenerC81153jk.A01.add(new C56777PHu(this));
                                                                                                                                                                                                                                                                                                                            this.A07 = new C13400mQ(AbstractC167007dF.A0J(), new C56192Owz(this, 0), 300L);
                                                                                                                                                                                                                                                                                                                            this.A0U = new O7O(new O24(this));
                                                                                                                                                                                                                                                                                                                            C0f9.A09(2016169029, A02);
                                                                                                                                                                                                                                                                                                                            return;
                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                            }
                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                    }
                                                                                                                                                                                                                                }
                                                                                                                                                                                                                            }
                                                                                                                                                                                                                        }
                                                                                                                                                                                                                    }
                                                                                                                                                                                                                }
                                                                                                                                                                                                            }
                                                                                                                                                                                                        }
                                                                                                                                                                                                    }
                                                                                                                                                                                                }
                                                                                                                                                                                            }
                                                                                                                                                                                        }
                                                                                                                                                                                    }
                                                                                                                                                                                }
                                                                                                                                                                                C14360o3.A0F("viewController");
                                                                                                                                                                                throw C00O.createAndThrow();
                                                                                                                                                                            }
                                                                                                                                                                        }
                                                                                                                                                                    }
                                                                                                                                                                }
                                                                                                                                                            }
                                                                                                                                                        }
                                                                                                                                                    }
                                                                                                                                                }
                                                                                                                                                C14360o3.A0F("clipsTimelineActionBarViewModel");
                                                                                                                                                throw C00O.createAndThrow();
                                                                                                                                            }
                                                                                                                                        }
                                                                                                                                    }
                                                                                                                                }
                                                                                                                            }
                                                                                                                        }
                                                                                                                        C14360o3.A0F("stackedTimelineViewModel");
                                                                                                                        throw C00O.createAndThrow();
                                                                                                                    }
                                                                                                                }
                                                                                                                C14360o3.A0F(str3);
                                                                                                                throw C00O.createAndThrow();
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                }
                                                                                            }
                                                                                        }
                                                                                    }
                                                                                }
                                                                                C14360o3.A0F(str2);
                                                                                throw C00O.createAndThrow();
                                                                            }
                                                                            C14360o3.A0F("bitmapTimelineViewModel");
                                                                            throw C00O.createAndThrow();
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    C14360o3.A0F("audioTrackViewModelContainer");
                                                    throw C00O.createAndThrow();
                                                }
                                                C14360o3.A0F("clipsTimelineButtonEventProvider");
                                                throw C00O.createAndThrow();
                                            }
                                        }
                                    }
                                }
                            }
                            C14360o3.A0F("timedElementsViewModel");
                            throw C00O.createAndThrow();
                        }
                    }
                }
                C14360o3.A0F("clipsTimelineEditorViewModel");
                throw C00O.createAndThrow();
            }
            C14360o3.A0F(str);
            throw C00O.createAndThrow();
        }
        C14360o3.A0F("clipsCreationViewModel");
        throw C00O.createAndThrow();
    }

    @Override // androidx.fragment.app.Fragment
    public final View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
        int A02 = C0f9.A02(1645244828);
        C14360o3.A0B(layoutInflater, 0);
        A01(this).A04("on_create_view");
        ClipsStackedTimelineViewController clipsStackedTimelineViewController = this.A0F;
        if (clipsStackedTimelineViewController == null) {
            C14360o3.A0F("viewController");
            throw C00O.createAndThrow();
        }
        View inflate = layoutInflater.inflate(clipsStackedTimelineViewController.A07, viewGroup, false);
        C0f9.A09(1663537168, A02);
        return inflate;
    }

    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    public final void onDestroy() {
        int A02 = C0f9.A02(151332492);
        super.onDestroy();
        MediaPlayer mediaPlayer = this.A04;
        if (mediaPlayer != null) {
            mediaPlayer.reset();
            mediaPlayer.release();
        }
        this.A04 = null;
        C0f9.A09(201721965, A02);
    }

    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    public final void onDestroyView() {
        int A02 = C0f9.A02(-1313975579);
        super.onDestroyView();
        C183298Bb c183298Bb = this.A0l;
        if (c183298Bb == null) {
            C14360o3.A0F("bitmapTimelineViewModel");
            throw C00O.createAndThrow();
        }
        MSX.A1A(c183298Bb.A05, C221609qP.A00);
        Dialog dialog = this.A02;
        if (dialog != null) {
            dialog.dismiss();
        }
        this.A02 = null;
        Dialog dialog2 = this.A03;
        if (dialog2 != null) {
            dialog2.dismiss();
        }
        this.A03 = null;
        this.A0s = false;
        this.A0R = null;
        C0f9.A09(-1607237263, A02);
    }

    @Override // android.content.DialogInterface.OnDismissListener
    public final void onDismiss(DialogInterface dialogInterface) {
        C55081Oab.A00();
        C87H c87h = this.A0j;
        if (c87h == null) {
            C14360o3.A0F("videoPlaybackViewModel");
            throw C00O.createAndThrow();
        }
        c87h.A03();
    }

    @Override // androidx.fragment.app.Fragment
    public final void onPause() {
        int A02 = C0f9.A02(-712778490);
        super.onPause();
        A0R();
        C0f9.A09(767727620, A02);
    }

    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    public final void onResume() {
        int A02 = C0f9.A02(-1751111658);
        super.onResume();
        A0S();
        C183348Bh A00 = AbstractC183338Bg.A00(AbstractC166987dD.A0r(super.A05));
        C1QT c1qt = A00.A0J;
        long j = A00.A0A;
        AHF ahf = new AHF(c1qt);
        ahf.A01 = j;
        ahf.A04("on_resume");
        long j2 = A00.A0A;
        AHF ahf2 = new AHF(c1qt);
        ahf2.A01 = j2;
        ahf2.A02();
        A00.A0A = 0L;
        C0f9.A09(167616104, A02);
    }

    @Override // androidx.fragment.app.Fragment
    public final void onStart() {
        int A02 = C0f9.A02(1543156819);
        super.onStart();
        A01(this).A04(AbstractC111324zv.A00(2823));
        C0f9.A09(-1309994703, A02);
    }
}
