package X;

import android.app.Activity;
import android.content.Context;
import android.graphics.drawable.Drawable;
import android.util.SparseArray;
import android.view.View;
import android.view.ViewGroup;
import androidx.fragment.app.FragmentActivity;
import com.facebook.R;
import com.facebook.common.dextricks.JITProfilePQR;
import com.facebook.forker.Process;
import com.instagram.common.session.UserSession;
import com.instagram.creation.capture.quickcapture.aspectratioutil.NineSixteenLayoutConfigImpl;
import com.instagram.creation.capture.quickcapture.aspectratioutil.TargetViewSizeProvider;
import com.instagram.react.modules.base.IgReactQEModule;
import com.instagram.ui.text.ConstrainedEditText;
import com.instagram.ui.text.fittingtextview.FittingTextView;
import com.instagram.ui.widget.drawing.EyedropperColorPickerTool;
import com.instagram.ui.widget.interactive.InteractiveDrawableContainer;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.concurrent.TimeUnit;

/* renamed from: X.Ah3, reason: case insensitive filesystem */
/* loaded from: classes4.dex */
public final class C23851Ah3 implements C8NX, C8NY, InterfaceC1829489p, InterfaceC60152ox, InterfaceC1810781j, InterfaceC186208No, InterfaceC186218Np, C8BD, InterfaceC186228Nq, C85H {
    public InterfaceC183728Cx A00;
    public Integer A01;
    public HashMap A02;
    public C55U A03;
    public C202278x7 A04;
    public Integer A05;
    public final Context A06;
    public final SparseArray A07;
    public final View A08;
    public final ViewGroup A09;
    public final AbstractC59962oe A0A;
    public final InterfaceC11380iw A0B;
    public final UserSession A0C;
    public final C3I9 A0D;
    public final C1810981l A0E;
    public final C8O8 A0F;
    public final TargetViewSizeProvider A0G;
    public final AnonymousClass840 A0H;
    public final ViewOnTouchListenerC1829889t A0I;
    public final C8O5 A0J;
    public final InterfaceC143326dX A0K;
    public final C8AD A0L;
    public final InterfaceC1810081c A0M;
    public final C150286pc A0N;
    public final C150286pc A0O;
    public final C150286pc A0P;
    public final FittingTextView A0Q;
    public final InteractiveDrawableContainer A0R;
    public final C8O6 A0S;
    public final C8O1 A0T;
    public final ConstrainedEditText A0U;
    public final EyedropperColorPickerTool A0V;
    public final OyP A0W;
    public final List A0X;
    public final Map A0Y;
    public final boolean A0Z;

    /* JADX WARN: Code restructure failed: missing block: B:24:0x0076, code lost:
    
        if (r10.A0M.CRB(X.EnumC1810181d.A0F) != false) goto L10;
     */
    /* JADX WARN: Code restructure failed: missing block: B:39:0x0102, code lost:
    
        if (X.AbstractC166997dE.A0c(X.C06090Tz.A05, r10.A0C, 36320923514577914L).booleanValue() != false) goto L40;
     */
    /* JADX WARN: Removed duplicated region for block: B:12:0x003c  */
    /* JADX WARN: Removed duplicated region for block: B:15:0x0049  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void A06(java.lang.Integer r11) {
        /*
            Method dump skipped, instructions count: 362
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C23851Ah3.A06(java.lang.Integer):void");
    }

    @Override // X.C85H
    public final /* bridge */ /* synthetic */ boolean A7D(Object obj, Object obj2) {
        C14360o3.A0B(obj, 0);
        if ((EnumC1810181d.A0j == obj || EnumC1810181d.A08 == obj) && this.A01 == C05F.A0Y) {
            return false;
        }
        return true;
    }

    @Override // X.C8NX
    public final boolean AG1() {
        return false;
    }

    @Override // X.C8NY
    public final void ARG(Drawable drawable, Object obj) {
        C14360o3.A0B(obj, 0);
        this.A0M.E4u(obj);
    }

    @Override // X.C8NY
    public final int Aof() {
        return 0;
    }

    @Override // X.C8NY
    public final int BA1() {
        return 0;
    }

    @Override // X.InterfaceC1829489p
    public final void Cud(Drawable drawable) {
        C14360o3.A0B(drawable, 0);
        if ((drawable instanceof C8P7) && ((C8P7) drawable).A0B.A0M()) {
            this.A04 = this.A0R.A0M(drawable);
        }
    }

    @Override // X.InterfaceC1829489p
    public final /* synthetic */ void Cuq() {
    }

    @Override // X.InterfaceC1829489p
    public final /* synthetic */ void Cur() {
    }

    @Override // X.InterfaceC1829489p
    public final /* synthetic */ void Cvp(Drawable drawable, int i) {
    }

    @Override // X.InterfaceC1829489p
    public final void DCJ(Drawable drawable, int i) {
    }

    @Override // X.C8NY
    public final void DPC() {
    }

    /* JADX WARN: Code restructure failed: missing block: B:9:0x0019, code lost:
    
        if (r6.A0Z == false) goto L11;
     */
    @Override // X.InterfaceC1829489p
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void DQa(android.graphics.drawable.Drawable r7, int r8, float r9, float r10) {
        /*
            r6 = this;
            r2 = 1
            X.C14360o3.A0B(r7, r2)
            boolean r0 = r7 instanceof X.C194808jg
            r1 = 0
            if (r0 == 0) goto L12
            r0 = r7
            X.8jg r0 = (X.C194808jg) r0
            if (r0 == 0) goto L12
            android.graphics.drawable.Drawable r1 = r0.A04()
        L12:
            boolean r0 = r1 instanceof X.InterfaceC133135zf
            if (r0 == 0) goto L1b
            boolean r0 = r6.A0Z
            r5 = 1
            if (r0 != 0) goto L1c
        L1b:
            r5 = 0
        L1c:
            X.81c r4 = r6.A0M
            boolean r0 = r4.Cae()
            if (r0 == 0) goto L4c
            com.instagram.ui.widget.interactive.InteractiveDrawableContainer r0 = r6.A0R
            java.util.List r0 = r0.getAllDrawables()
            int r0 = r0.size()
            if (r0 <= r2) goto L4c
            com.instagram.common.session.UserSession r3 = r6.A0C
            X.0Tz r2 = X.C06090Tz.A05
            r0 = 36320923514577914(0x8109b0000023fa, double:3.0328365110144585E-306)
            java.lang.Boolean r0 = X.AbstractC166997dE.A0c(r2, r3, r0)
            boolean r0 = r0.booleanValue()
            if (r0 == 0) goto L4c
            X.8Wh r0 = new X.8Wh
            r0.<init>(r8, r10, r5)
            r4.E4u(r0)
        L4b:
            return
        L4c:
            if (r5 == 0) goto L4b
            X.8jg r7 = (X.C194808jg) r7
            java.lang.Integer r0 = X.C05F.A1F
            r6.A06(r0)
            r7.A08()
            android.util.SparseArray r0 = r6.A07
            java.lang.Object r1 = r0.get(r8)
            r1.getClass()
            X.5NG r1 = (X.C5NG) r1
            int r0 = r7.A00
            r1.A01(r0)
            X.8O5 r0 = r6.A0J
            r0.A00 = r7
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C23851Ah3.DQa(android.graphics.drawable.Drawable, int, float, float):void");
    }

    @Override // X.InterfaceC1829489p
    public final /* synthetic */ void DQk() {
    }

    /* JADX WARN: Code restructure failed: missing block: B:28:0x0077, code lost:
    
        if (r13 != false) goto L19;
     */
    @Override // X.InterfaceC1829489p
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void Dep(android.graphics.drawable.Drawable r11, int r12, boolean r13) {
        /*
            r10 = this;
            r3 = 1
            X.C14360o3.A0B(r11, r3)
            boolean r0 = r11 instanceof X.C5RM
            if (r0 == 0) goto Lc
            X.5RM r11 = (X.C5RM) r11
            android.graphics.drawable.Drawable r11 = r11.A0A
        Lc:
            java.lang.String r6 = ""
            boolean r0 = r11 instanceof X.C6RB
            r1 = 0
            if (r0 == 0) goto L7c
            X.6pc r2 = r10.A0P
            boolean r0 = r2.A03
            if (r0 == 0) goto L7a
            java.lang.Object r0 = r2.get()
            X.8bx r0 = (X.C190398bx) r0
            X.6RB r0 = r0.A0L
        L21:
            if (r11 != r0) goto L2d
            java.lang.Object r0 = r2.get()
            X.8bx r0 = (X.C190398bx) r0
            r0.A0L = r1
            r0.A04 = r1
        L2d:
            r0 = r1
        L2e:
            boolean r2 = r11 instanceof X.C194808jg
            if (r2 == 0) goto L77
            if (r13 == 0) goto L6f
            X.840 r2 = r10.A0H
            X.83z r2 = r2.A02
            X.83h r2 = r2.A01
            boolean r2 = r2.A07()
            if (r2 == 0) goto L4a
            r2 = r11
            X.8jg r2 = (X.C194808jg) r2
            android.graphics.drawable.Drawable r2 = r2.A04()
            X.C14360o3.A07(r2)
        L4a:
            com.instagram.common.session.UserSession r2 = r10.A0C
            X.22C r2 = X.AnonymousClass229.A01(r2)
            X.VHl r5 = X.AHR.A01(r1, r0)
            X.840 r0 = r10.A0H
            X.83z r0 = r0.A02
            X.83h r0 = r0.A01
            X.5JK r0 = r0.A0h
            if (r0 == 0) goto L75
            int r0 = r0.ordinal()
            if (r0 != r3) goto L75
            X.5Hg r3 = X.EnumC114925Hg.FEED
        L66:
            X.MWs r4 = X.EnumC50631MWs.A0E
            r8 = 0
            java.lang.String r7 = "TRASH_CAN"
            r9 = r8
            r2.A12(r3, r4, r5, r6, r7, r8, r9)
        L6f:
            X.8AD r0 = r10.A0L
            r0.Dol(r11)
            return
        L75:
            r3 = 0
            goto L66
        L77:
            if (r13 == 0) goto L6f
            goto L4a
        L7a:
            r0 = 0
            goto L21
        L7c:
            android.util.SparseArray r2 = r10.A07
            java.lang.Object r0 = r2.get(r12)
            X.5NG r0 = (X.C5NG) r0
            if (r0 == 0) goto L92
            java.lang.String r6 = r0.A00()
            java.lang.String r1 = r0.A04
            java.lang.String r0 = r0.A05
        L8e:
            r2.remove(r12)
            goto L2e
        L92:
            r0 = r1
            goto L8e
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C23851Ah3.Dep(android.graphics.drawable.Drawable, int, boolean):void");
    }

    @Override // X.InterfaceC1829489p
    public final void Dmk(Drawable drawable, int i, float f, float f2) {
        ArrayList A1E;
        EnumC223379tU[] enumC223379tUArr;
        EnumC223379tU enumC223379tU;
        C14360o3.A0B(drawable, 1);
        Drawable drawable2 = drawable;
        if (drawable instanceof C5RM) {
            drawable2 = ((C5RM) drawable2).A0A;
        }
        if ((drawable2 instanceof C6RB) && !(drawable2 instanceof C202718xp)) {
            this.A0M.E4u(new C8UK(drawable, (C6RB) drawable2));
            return;
        }
        if (!(drawable2 instanceof C194808jg)) {
            return;
        }
        C14360o3.A0B(drawable2, 1);
        if (drawable2 instanceof C5RM) {
            drawable2 = ((C5RM) drawable2).A0A;
        }
        if (!(drawable2 instanceof C194808jg)) {
            return;
        }
        C194808jg c194808jg = (C194808jg) drawable2;
        Drawable A04 = c194808jg.A04();
        C14360o3.A07(A04);
        if (A04 instanceof C221099pX) {
            C221099pX c221099pX = (C221099pX) A04;
            if (c221099pX.A02) {
                this.A0M.E4u(new C188128Vd(c221099pX.A00, c221099pX.A01()));
                return;
            }
        }
        if (c194808jg.A0E(C220949pI.class)) {
            ((C220949pI) c194808jg.A06(C220949pI.class).get(0)).A03.A00();
        }
        if (c194808jg.A04() instanceof C220959pJ) {
            Drawable A042 = c194808jg.A04();
            C14360o3.A0C(A042, "null cannot be cast to non-null type com.instagram.reels.notifyme.view.NotifyMeStickerV2Drawable");
            ((C220959pJ) A042).A0G.A00();
        }
        if (!c194808jg.A0D() || !(c194808jg.A04() instanceof C202588xc)) {
            return;
        }
        Drawable A043 = c194808jg.A04();
        C14360o3.A0C(A043, "null cannot be cast to non-null type com.instagram.creation.capture.assetpicker.drawable.StickerItemDrawable");
        if (((C202588xc) A043).A0M != EnumC150226pU.A0C) {
            return;
        }
        Drawable A044 = c194808jg.A04();
        C14360o3.A0C(A044, "null cannot be cast to non-null type com.instagram.creation.capture.assetpicker.drawable.StickerItemDrawable");
        int intValue = ((C202588xc) A044).A07.intValue();
        if (intValue != 0) {
            if (intValue != 1) {
                if (intValue != 2) {
                    if (intValue == 3) {
                        enumC223379tUArr = new EnumC223379tU[1];
                        enumC223379tU = EnumC223379tU.MOTION_BLUR;
                    } else {
                        throw B4Z.A00();
                    }
                } else {
                    enumC223379tUArr = new EnumC223379tU[1];
                    enumC223379tU = EnumC223379tU.BLACK_AND_WHITE;
                }
            } else {
                enumC223379tUArr = new EnumC223379tU[1];
                enumC223379tU = EnumC223379tU.MIRROR;
            }
            enumC223379tUArr[0] = enumC223379tU;
            A1E = AbstractC16960so.A1M(enumC223379tUArr);
        } else {
            A1E = AbstractC166987dD.A1E();
        }
        C22C A01 = AnonymousClass229.A01(this.A0C);
        EnumC50631MWs enumC50631MWs = EnumC50631MWs.A0E;
        Drawable A045 = c194808jg.A04();
        C14360o3.A0C(A045, "null cannot be cast to non-null type com.instagram.creation.capture.assetpicker.drawable.StickerItemDrawable");
        A01.A1K(enumC50631MWs, VHl.A04, ((C202588xc) A045).A0L.A0S, A1E);
        Drawable A046 = c194808jg.A04();
        C14360o3.A0C(A046, "null cannot be cast to non-null type com.instagram.creation.capture.assetpicker.drawable.StickerItemDrawable");
        String str = ((C202588xc) A046).A0L.A0S;
        C14360o3.A07(str);
        this.A02.put(str, A1E);
    }

    @Override // X.C8NX
    public final void Dof() {
        this.A04 = null;
        A01(this).A0a();
        A06(C05F.A01);
    }

    /* JADX WARN: Code restructure failed: missing block: B:6:0x003a, code lost:
    
        if ((((X.C194808jg) r5).A04() instanceof X.C220979pL) == false) goto L8;
     */
    @Override // X.C8NX
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void Dog(X.C5NL r24, java.lang.String r25) {
        /*
            Method dump skipped, instructions count: 358
            To view this dump add '--comments-level debug' option
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C23851Ah3.Dog(X.5NL, java.lang.String):void");
    }

    @Override // X.C8NY
    public final void DsZ(String str) {
    }

    @Override // X.C8NY
    public final void Dsf() {
    }

    @Override // X.C8NY
    public final void EFB(Drawable drawable, boolean z) {
        C14360o3.A0B(drawable, 0);
        this.A0R.A0Q(drawable);
    }

    @Override // X.C8NY
    public final void F8v(boolean z) {
    }

    @Override // X.C8NY
    public final void FAV(boolean z) {
    }

    /* JADX WARN: Code restructure failed: missing block: B:9:0x002c, code lost:
    
        if ((r8 instanceof X.BE6) == false) goto L11;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    private final int A00(android.graphics.drawable.Drawable r8, X.C8FC r9) {
        /*
            r7 = this;
            X.81c r0 = r7.A0M
            boolean r0 = r0.Cap()
            r2 = r8
            if (r0 == 0) goto L19
            java.util.List r0 = r7.A0X
            r0.add(r8)
            boolean r0 = r8 instanceof X.C5RM
            if (r0 == 0) goto L19
            r1 = r2
            X.5RM r1 = (X.C5RM) r1
            java.lang.Integer r0 = X.C05F.A00
            r1.A03 = r0
        L19:
            com.instagram.ui.widget.interactive.InteractiveDrawableContainer r1 = r7.A0R
            boolean r4 = X.C138436Oz.A0A(r8)
            X.840 r0 = r7.A0H
            X.83z r0 = r0.A02
            boolean r0 = r0.A0A()
            if (r0 == 0) goto L2e
            boolean r0 = r8 instanceof X.BE6
            r5 = 1
            if (r0 != 0) goto L2f
        L2e:
            r5 = 0
        L2f:
            r6 = 0
            r3 = r9
            int r0 = r1.A0J(r2, r3, r4, r5, r6)
            return r0
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C23851Ah3.A00(android.graphics.drawable.Drawable, X.8FC):int");
    }

    public static C190398bx A01(C23851Ah3 c23851Ah3) {
        return (C190398bx) c23851Ah3.A0P.get();
    }

    private final boolean A03() {
        Integer num = this.A01;
        if (num != null) {
            InterfaceC143326dX interfaceC143326dX = this.A0K;
            if (!interfaceC143326dX.CKf() || interfaceC143326dX.AYo() == this) {
                int intValue = num.intValue();
                if (intValue != 3 && intValue != 5 && intValue != 6 && intValue != 7 && intValue != 4) {
                    return false;
                }
                return true;
            }
        }
        return false;
    }

    /* JADX WARN: Code restructure failed: missing block: B:8:0x0023, code lost:
    
        if (r1 == X.C05F.A0C) goto L10;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void A04() {
        /*
            r5 = this;
            com.instagram.ui.widget.interactive.InteractiveDrawableContainer r1 = r5.A0R
            java.lang.Class<X.6RB> r0 = X.C6RB.class
            java.util.ArrayList r0 = r1.A0T(r0)
            java.util.Iterator r4 = r0.iterator()
            r3 = 0
        Ld:
            r2 = 0
        Le:
            boolean r0 = r4.hasNext()
            if (r0 == 0) goto L2e
            java.lang.Object r0 = r4.next()
            X.6RB r0 = (X.C6RB) r0
            java.lang.Integer r1 = X.AbstractC139126Rt.A00(r0)
            if (r3 != 0) goto L25
            java.lang.Integer r0 = X.C05F.A0C
            r3 = 0
            if (r1 != r0) goto L26
        L25:
            r3 = 1
        L26:
            if (r2 != 0) goto L2c
            java.lang.Integer r0 = X.C05F.A01
            if (r1 != r0) goto Ld
        L2c:
            r2 = 1
            goto Le
        L2e:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C23851Ah3.A04():void");
    }

    /* JADX WARN: Multi-variable type inference failed */
    public final void A05(Drawable drawable, C8FC c8fc, String str, List list) {
        C5NH c5nh;
        VHl A01;
        String str2;
        EnumC114925Hg enumC114925Hg;
        C14360o3.A0B(drawable, 2);
        C5GJ c5gj = C5GJ.ASSET_PICKER;
        String str3 = null;
        if ((drawable instanceof C216269hj) && ((C216269hj) drawable).A08() == EnumC40111tc.A0a.A00) {
            c8fc.A08 = null;
        }
        int A00 = A00(drawable, c8fc);
        C5NG c5ng = new C5NG();
        c5ng.A06 = list;
        c5ng.A03 = null;
        c5ng.A04 = str;
        c5ng.A05 = null;
        boolean z = drawable instanceof C194808jg;
        if (z) {
            c5ng.A01(((C194808jg) drawable).A00);
        }
        if (AbstractC209069Mo.A04(drawable)) {
            c5nh = C5NH.A04;
        } else {
            c5nh = C5NH.A06;
        }
        c5ng.A01 = c5nh;
        SparseArray sparseArray = this.A07;
        sparseArray.put(A00, c5ng);
        if (drawable instanceof C5RP) {
            C5RP c5rp = (C5RP) drawable;
            if (c5rp.isLoading()) {
                c5rp.A9I(new C23673Ae8(1, drawable, c5rp, this));
            } else {
                this.A0R.A0k(drawable);
            }
        }
        this.A0L.Doe(drawable);
        if (z) {
            C194808jg c194808jg = (C194808jg) drawable;
            c194808jg.A07();
            ArrayList A06 = c194808jg.A06(C202588xc.class);
            if (!A06.isEmpty()) {
                Iterator it = A06.iterator();
                while (it.hasNext()) {
                    C202588xc c202588xc = (C202588xc) it.next();
                    c202588xc.A04();
                    if (c202588xc.A0M == EnumC150226pU.A0C) {
                        if (C18U.A06(C06090Tz.A05, this.A0C, 36323139717704738L)) {
                            c194808jg.A09();
                        }
                    }
                }
            }
        }
        C5NG c5ng2 = (C5NG) sparseArray.get(A00);
        if (c5ng2 == null) {
            A01 = null;
            str2 = null;
        } else {
            A01 = AHR.A01(c5ng2.A04, c5ng2.A05);
            str2 = c5ng2.A05;
        }
        int i = 1;
        if (C14360o3.A0K(str2, EnumC150226pU.A04.toString())) {
            i = 8;
        }
        InterfaceC1810081c interfaceC1810081c = this.A0M;
        if (interfaceC1810081c.Cae()) {
            C5NG c5ng3 = (C5NG) sparseArray.get(A00);
            if (c5ng3 != null) {
                str3 = c5ng3.A00();
            }
            C22C A012 = AnonymousClass229.A01(this.A0C);
            EnumC50631MWs enumC50631MWs = EnumC50631MWs.A0E;
            C5JK c5jk = this.A0H.A02.A01.A0h;
            if (c5jk != null && c5jk.ordinal() == 1) {
                enumC114925Hg = EnumC114925Hg.FEED;
            } else {
                enumC114925Hg = null;
            }
            A012.A0s(c5gj, enumC114925Hg, enumC50631MWs, A01, null, null, str3, null, i);
        }
        interfaceC1810081c.E4u(new Object());
    }

    @Override // X.C8NY
    public final List BA2() {
        return C16930sl.A00;
    }

    @Override // X.C8NY
    public final boolean CeK() {
        return AbstractC167007dF.A1X(this.A01, C05F.A0N);
    }

    @Override // X.C8NY
    public final void Cp6(Drawable drawable) {
        BEd A00 = InteractiveDrawableContainer.A00(drawable, this.A0R);
        if (A00 != null) {
            A00.Cp4(true);
        }
    }

    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r1v0, types: [X.8Ux, java.lang.Object] */
    @Override // X.C8NX
    public final void D28(boolean z) {
        ?? obj = new Object();
        obj.A00 = z;
        this.A0M.E4u(obj);
    }

    @Override // X.C8NX
    public final void DBH() {
        this.A0M.E4u(C8UR.A00);
    }

    @Override // X.InterfaceC1829489p
    public final void DCK(float f, float f2) {
        InteractiveDrawableContainer interactiveDrawableContainer = this.A0R;
        if (interactiveDrawableContainer.getInteractiveDrawables().size() >= 2) {
            UserSession userSession = this.A0C;
            if (AbstractC166997dE.A0c(C06090Tz.A05, userSession, 36320923514577914L).booleanValue()) {
                C23031Ai A00 = AbstractC23021Ah.A00(userSession);
                InterfaceC19630xq interfaceC19630xq = A00.A01;
                int i = interfaceC19630xq.getInt("layering_tool_tooltip_seen_count", 0);
                boolean z = false;
                if (System.currentTimeMillis() - interfaceC19630xq.getLong("layering_tool_tooltip_last_seen_ms", 0L) < TimeUnit.DAYS.toMillis(3L)) {
                    z = true;
                }
                if (!AbstractC167017dG.A1b(A00, A00.A20, C23031Ai.A8c, 458) && i < 3 && !z) {
                    FragmentActivity requireActivity = this.A0A.requireActivity();
                    Context context = this.A06;
                    C5SU A0f = AbstractC167017dG.A0f(requireActivity, context.getString(2131974415));
                    A0f.A05(new C207559Gj(interactiveDrawableContainer, (int) f, (int) f2, true));
                    A0f.A01();
                    A0f.A01 = AbstractC167017dG.A03(context);
                    AbstractC166997dE.A1P(A0f);
                    AbstractC167007dF.A18(interfaceC19630xq, "layering_tool_tooltip_seen_count", interfaceC19630xq.getInt("layering_tool_tooltip_seen_count", 0) + 1);
                    long currentTimeMillis = System.currentTimeMillis();
                    InterfaceC19610xo ARD = interfaceC19630xq.ARD();
                    ARD.E7G("layering_tool_tooltip_last_seen_ms", currentTimeMillis);
                    ARD.apply();
                }
            }
        }
    }

    @Override // X.InterfaceC1829489p
    public final void DCL(Drawable drawable) {
        C14360o3.A0B(EnumC1810181d.A09, 0);
    }

    @Override // X.C8NY
    public final void DFK(int i) {
        Integer num = this.A05;
        if (num != null) {
            A06(num);
            if (this.A05 == C05F.A0N) {
                AnonymousClass229.A01(this.A0C).A1J(EnumC50631MWs.A0E, i, 3);
                C150286pc c150286pc = this.A0P;
                ((C190398bx) c150286pc.get()).A0b(i);
                ((C190398bx) c150286pc.get()).A0Y();
            }
        }
    }

    @Override // X.C8NY
    public final void DFL() {
        this.A05 = this.A01;
        onBackPressed();
        A06(C05F.A0Y);
    }

    @Override // X.C8NY
    public final void DH9(boolean z) {
        AbstractC183338Bg.A00(this.A0C).A0A("StickerOverlayController#onFinishEditingText");
        A06(C05F.A01);
        AbstractC13880nE.A0O(this.A0U);
        A04();
    }

    @Override // X.C8NX
    public final void DOI() {
        this.A0M.E4u(new Object());
    }

    @Override // X.InterfaceC60152ox
    public final void DOK(int i, boolean z) {
        switch (this.A0M.AuG().ordinal()) {
            case 17:
            case 21:
            case 25:
            case 27:
            case 30:
            case 31:
            case 32:
            case 33:
            case 59:
                return;
            default:
                A01(this).DOK(i, z);
                return;
        }
    }

    @Override // X.InterfaceC186228Nq
    public final void Df3(Drawable drawable) {
        this.A0R.A0Q(drawable);
    }

    @Override // X.InterfaceC1829489p
    public final void Din(Drawable drawable, float f, float f2, float f3, float f4) {
        AbstractC166997dE.A1Y(((C50941MfA) this.A0W.A0F.getValue()).A04, true);
        A06(C05F.A15);
    }

    @Override // X.InterfaceC1829489p
    public final void Dmm(Drawable drawable, float f, float f2, float f3, float f4, int i) {
        InteractiveDrawableContainer interactiveDrawableContainer = this.A0R;
        ArrayList A0T = interactiveDrawableContainer.A0T(C202638xh.class);
        if ((!A0T.isEmpty()) && ((Drawable) A0T.get(0)).getBounds().contains((int) f, (int) f2)) {
            UserSession userSession = this.A0C;
            if (!C18U.A06(C06090Tz.A05, userSession, 36319828297981636L) && C20Y.A00(userSession).A01.A00 == C125535lz.A00) {
                if (!A0T.isEmpty()) {
                    ((C202638xh) A0T.get(0)).A04.A00();
                    return;
                }
                return;
            }
        }
        C1810981l c1810981l = this.A0E;
        if ((c1810981l.A08.A00 instanceof C81V) || C1810981l.A05(C81W.A0o, c1810981l)) {
            return;
        }
        C1815483h c1815483h = this.A0H.A02.A01;
        UserSession userSession2 = this.A0C;
        C1815783k c1815783k = c1815483h.A04;
        InterfaceC1812882f interfaceC1812882f = ((NineSixteenLayoutConfigImpl) this.A0G).A0K;
        if (AbstractC202808xy.A07(this.A06, userSession2, c1815783k, interactiveDrawableContainer, f, f2, interfaceC1812882f.getWidth(), interfaceC1812882f.getHeight())) {
            return;
        }
        this.A0M.E4u(new Object());
    }

    @Override // X.C8NY
    public final void Do0() {
        A06(C05F.A0N);
    }

    @Override // X.InterfaceC1810781j
    public final /* bridge */ /* synthetic */ void DoV(Object obj, Object obj2, Object obj3) {
        Integer num;
        EnumC1810181d enumC1810181d = (EnumC1810181d) obj;
        EnumC1810181d enumC1810181d2 = (EnumC1810181d) obj2;
        AbstractC167027dH.A12(enumC1810181d, enumC1810181d2, obj3);
        int ordinal = enumC1810181d.ordinal();
        if (ordinal != 12) {
            if (ordinal == 77 && enumC1810181d2 != EnumC1810181d.A1J) {
                this.A0R.A0F = false;
                ((C24150AnZ) this.A0N.get()).A05();
            }
        } else if (enumC1810181d2 != EnumC1810181d.A02) {
            InteractiveDrawableContainer interactiveDrawableContainer = this.A0R;
            interactiveDrawableContainer.A0f(interactiveDrawableContainer.getActiveDrawableId(), true);
            interactiveDrawableContainer.invalidate();
        }
        switch (enumC1810181d2.ordinal()) {
            case 2:
                A01(this).A0V();
                if (this.A01 != C05F.A01 || this.A0R.getInteractiveDrawables().size() > 0) {
                    return;
                }
                num = C05F.A0C;
                break;
            case 11:
            case 58:
                A01(this).A0V();
                return;
            case IgReactQEModule.CONFIG_KEY_OFFSET /* 12 */:
            case JITProfilePQR.HEADER_COMPRESSED_SIZE_OFFSET /* 13 */:
                C1810981l c1810981l = this.A0H.A02.A01.A0Y;
                if (c1810981l == null) {
                    return;
                }
                if (C1810981l.A05(C81W.A0o, c1810981l)) {
                    if (!C18U.A06(C06090Tz.A05, this.A0C, 36316783166362259L)) {
                        return;
                    }
                }
                A01(this).A0h(obj3);
                return;
            case 14:
                num = C05F.A01;
                break;
            case Process.SIGTERM /* 15 */:
                A06(C05F.A0j);
                C150286pc c150286pc = A01(this).A1Y;
                if (c150286pc == null) {
                    return;
                }
                ((C9NL) c150286pc.get()).DDv(obj3);
                return;
            case 77:
                this.A0R.A0F = true;
                C188428Wh c188428Wh = (C188428Wh) obj3;
                ((C24150AnZ) this.A0N.get()).A06(c188428Wh.A00, ((NineSixteenLayoutConfigImpl) this.A0G).A0K.getHeight(), c188428Wh.A01, c188428Wh.A02);
                return;
            default:
                return;
        }
        A06(num);
    }

    @Override // X.InterfaceC186208No
    public final void Doi() {
        Integer num = C05F.A01;
        A06(num);
        this.A05 = num;
    }

    @Override // X.InterfaceC1829489p
    public final void DuD() {
        Integer num;
        Integer num2 = this.A01;
        if (num2 == C05F.A15) {
            AbstractC166997dE.A1Y(((C50941MfA) this.A0W.A0F.getValue()).A04, false);
            if (this.A0M.Cap() && this.A0R.getInteractiveDrawables().size() <= 0) {
                num = C05F.A0C;
            } else {
                num = C05F.A01;
            }
            A06(num);
        } else if (num2 == C05F.A1F) {
            C8O5 c8o5 = this.A0J;
            if (c8o5.A00 != null) {
                ViewOnTouchListenerC1829889t viewOnTouchListenerC1829889t = c8o5.A02;
                viewOnTouchListenerC1829889t.A05();
                viewOnTouchListenerC1829889t.A06(c8o5);
            }
        }
        InterfaceC1810081c interfaceC1810081c = this.A0M;
        if (interfaceC1810081c.CRB(EnumC1810181d.A1J)) {
            interfaceC1810081c.E4u(new Object());
        }
    }

    @Override // X.InterfaceC186218Np
    public final void E2U(int i) {
        Drawable drawable;
        BEd A0N = this.A0R.A0N(i);
        if (A0N != null) {
            drawable = ((C9LJ) A0N).A0B;
        } else {
            drawable = null;
        }
        if (drawable instanceof C194808jg) {
            C194808jg c194808jg = (C194808jg) drawable;
            A06(C05F.A1F);
            c194808jg.A08();
            Object obj = this.A07.get(i);
            obj.getClass();
            ((C5NG) obj).A01(c194808jg.A00);
            C8O5 c8o5 = this.A0J;
            c8o5.A00 = c194808jg;
            ViewOnTouchListenerC1829889t viewOnTouchListenerC1829889t = c8o5.A02;
            viewOnTouchListenerC1829889t.A05();
            viewOnTouchListenerC1829889t.A06(c8o5);
        }
    }

    @Override // X.C8NY
    public final void EH5(Drawable drawable, Drawable drawable2) {
        this.A0R.A0o(drawable, drawable2);
    }

    @Override // X.C8NY
    public final void FAp(C6RB c6rb) {
        this.A0R.A0k(c6rb);
    }

    @Override // X.C8BD
    public final boolean onBackPressed() {
        ConstrainedEditText constrainedEditText = this.A0U;
        if (constrainedEditText.hasFocus()) {
            constrainedEditText.clearFocus();
            return true;
        }
        return false;
    }

    public static final void A02(C55U c55u, C23851Ah3 c23851Ah3) {
        if (c23851Ah3.A03()) {
            c23851Ah3.DOI();
        }
        if (c23851Ah3.A03 != c55u) {
            c23851Ah3.A0R.A0Z();
            c23851Ah3.A07.clear();
            c23851Ah3.A03 = c55u;
        }
        c23851Ah3.A0R.setCameraDestination(c55u);
    }

    @Override // X.C8NY
    public final void CJs(C05R c05r) {
        A01(this).A0V();
    }

    @Override // X.C8NY
    public final void CoP(Drawable drawable) {
    }

    @Override // X.C8NY
    public final boolean Ei9() {
        return A03();
    }

    @Override // X.C8NY
    public final void AAW(Drawable drawable, C8FC c8fc) {
        A00(drawable, c8fc);
    }

    public C23851Ah3(Activity activity, View view, AbstractC018607g abstractC018607g, AbstractC59962oe abstractC59962oe, InterfaceC11380iw interfaceC11380iw, UserSession userSession, C3I9 c3i9, C1810981l c1810981l, TargetViewSizeProvider targetViewSizeProvider, AnonymousClass840 anonymousClass840, C8D9 c8d9, ViewOnTouchListenerC1829889t viewOnTouchListenerC1829889t, C8C0 c8c0, InterfaceC143326dX interfaceC143326dX, C8AD c8ad, InterfaceC183728Cx interfaceC183728Cx, InterfaceC1810081c interfaceC1810081c, InteractiveDrawableContainer interactiveDrawableContainer, OyP oyP) {
        AbstractC167007dF.A1F(c8ad, 3, interfaceC1810081c);
        C14360o3.A0B(c3i9, 9);
        C14360o3.A0B(targetViewSizeProvider, 10);
        C14360o3.A0B(c8c0, 18);
        this.A0H = anonymousClass840;
        this.A0L = c8ad;
        this.A0M = interfaceC1810081c;
        this.A0C = userSession;
        this.A08 = view;
        this.A0R = interactiveDrawableContainer;
        this.A0D = c3i9;
        this.A0G = targetViewSizeProvider;
        this.A0W = oyP;
        this.A0A = abstractC59962oe;
        this.A0I = viewOnTouchListenerC1829889t;
        this.A00 = interfaceC183728Cx;
        this.A0E = c1810981l;
        this.A0B = interfaceC11380iw;
        this.A0K = interfaceC143326dX;
        this.A07 = new SparseArray();
        this.A0X = AbstractC166987dD.A1E();
        this.A0Y = AbstractC166987dD.A1G();
        this.A02 = AbstractC166987dD.A1G();
        interfaceC1810081c.A82(this);
        ((C1809981b) interfaceC1810081c).A01.A01(this, EnumC1810181d.A0j);
        this.A06 = activity;
        if (AbstractC166997dE.A0t(userSession) == null) {
            C14360o3.A07(C6WI.A02());
        }
        this.A0T = new C8O1(interactiveDrawableContainer);
        this.A09 = (ViewGroup) view.requireViewById(R.id.post_capture_interactive_contents_container);
        ConstrainedEditText constrainedEditText = (ConstrainedEditText) view.requireViewById(R.id.text_overlay_edit_text);
        this.A0U = constrainedEditText;
        constrainedEditText.setSupportedContentMimeTypes("image/*");
        FittingTextView fittingTextView = (FittingTextView) view.findViewById(R.id.done_button);
        this.A0Q = fittingTextView;
        if (fittingTextView != null) {
            AbstractC56952jT.A01(fittingTextView);
        }
        InterfaceC183728Cx interfaceC183728Cx2 = this.A00;
        this.A00 = interfaceC183728Cx2;
        this.A0R.A0T = interfaceC183728Cx2.CSl();
        C1811981v c1811981v = c1810981l.A08;
        this.A03 = (C55U) c1811981v.A00;
        C8O5 c8o5 = new C8O5(viewOnTouchListenerC1829889t);
        this.A0J = c8o5;
        c8o5.A01 = this;
        this.A0V = (EyedropperColorPickerTool) view.requireViewById(R.id.eyedropper_color_picker_tool);
        this.A0S = new C8O6(userSession);
        this.A0F = new C23729Af2(this);
        c1810981l.A0H(new C208259Jk(this, 8));
        this.A0N = AbstractC150276pb.A00(new C9GX(this, 1), new InterfaceC143366db[0]);
        this.A0O = AbstractC150276pb.A00(new C9GX(this, 2), new InterfaceC143366db[0]);
        this.A0R.A0v(this);
        this.A0P = AbstractC150276pb.A00(new B2M(abstractC018607g, c8d9, c8c0, this), new InterfaceC143366db[0]);
        A02((C55U) c1811981v.A00, this);
        this.A0Z = C18U.A06(C06090Tz.A05, userSession, 36315791028653622L);
    }
}
