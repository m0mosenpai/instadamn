package X;

import android.content.Context;
import android.content.res.Resources;
import com.facebook.common.callercontext.CallerContext;
import com.facebook.common.callercontext.CallerContextable;
import com.instagram.common.session.UserSession;

/* renamed from: X.OnC, reason: case insensitive filesystem */
/* loaded from: classes9.dex */
public final class C55627OnC implements CallerContextable {
    public static final CallerContext A00 = CallerContext.A00(C55627OnC.class);
    public static final String __redex_internal_original_name = "CrosspostToFBFeedUpsellDialogHelper";

    /* JADX WARN: Removed duplicated region for block: B:20:0x0097  */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public static final void A00(android.content.Context r9, com.instagram.common.session.UserSession r10, X.C38321qM r11, X.InterfaceC57990Pna r12) {
        /*
            r0 = 0
            X.C14360o3.A0B(r10, r0)
            if (r9 == 0) goto Lb3
            X.8lv r1 = X.C196068lw.A00(r10)
            com.facebook.common.callercontext.CallerContext r0 = X.C55627OnC.A00
            X.5xZ r0 = r1.A00(r0)
            java.lang.String r8 = r0.A04
            X.5xX r0 = X.C131965xW.A05
            X.5xW r0 = X.C131975xX.A00(r10)
            java.lang.String r3 = r0.A05(r9, r10)
            X.8hC r4 = X.AbstractC31171DnF.A0I(r9)
            r0 = 2131962071(0x7f1328d7, float:1.9560857E38)
            r4.A0A(r0)
            X.AbstractC31175DnJ.A1O(r4)
            r2 = 2131962072(0x7f1328d8, float:1.9560859E38)
            r1 = 11
            X.Ogf r0 = new X.Ogf
            r0.<init>(r1, r12, r10, r11)
            r4.A0J(r0, r2)
            r0 = 53
            X.Ogj r0 = X.DialogInterfaceOnClickListenerC55321Ogj.A00(r11, r10, r0)
            r4.A0D(r0)
            X.0Tz r2 = X.C06090Tz.A05
            r0 = 36322813300452006(0x810b6800042aa6, double:3.034031619210791E-306)
            boolean r7 = X.C18U.A06(r2, r10, r0)
            int r6 = r8.length()
            if (r6 <= 0) goto Lc5
            if (r3 == 0) goto Lb4
            int r0 = r3.length()
            if (r0 == 0) goto Lb4
            android.content.res.Resources r5 = r9.getResources()
            r1 = 2131962521(0x7f132a99, float:1.956177E38)
            if (r7 == 0) goto L64
            r1 = 2131962522(0x7f132a9a, float:1.9561772E38)
        L64:
            java.lang.Object[] r0 = new java.lang.Object[]{r8, r3}
        L68:
            android.text.Spanned r0 = X.AbstractC07900bA.A00(r5, r0, r1)
        L6c:
            X.C14360o3.A0A(r0)
            java.lang.CharSequence r0 = (java.lang.CharSequence) r0
            r4.A0r(r0)
            boolean r0 = X.C196218mC.A00(r10)
            if (r0 != 0) goto L92
            r0 = 36322813300517543(0x810b6800052aa7, double:3.034031619252237E-306)
            boolean r0 = X.C18U.A06(r2, r10, r0)
            if (r0 == 0) goto L92
            r2 = 2131958585(0x7f131b39, float:1.9553786E38)
            r1 = 10
            X.Ogf r0 = new X.Ogf
            r0.<init>(r1, r12, r10, r11)
            r4.A0H(r0, r2)
        L92:
            X.AbstractC166987dD.A1W(r4)
            if (r6 != 0) goto L9e
            X.8ur r1 = X.EnumC201098ur.SUPPRESS
            java.lang.String r0 = "empty_name"
            A02(r1, r10, r11, r0)
        L9e:
            if (r3 == 0) goto La6
            int r0 = r3.length()
            if (r0 != 0) goto Lad
        La6:
            X.8ur r1 = X.EnumC201098ur.SUPPRESS
            java.lang.String r0 = "empty_audience"
            A02(r1, r10, r11, r0)
        Lad:
            X.8ur r1 = X.EnumC201098ur.VIEW
            r0 = 0
            A02(r1, r10, r11, r0)
        Lb3:
            return
        Lb4:
            android.content.res.Resources r5 = r9.getResources()
            r1 = 2131962520(0x7f132a98, float:1.9561767E38)
            if (r7 == 0) goto Lc0
            r1 = 2131962523(0x7f132a9b, float:1.9561774E38)
        Lc0:
            java.lang.Object[] r0 = new java.lang.Object[]{r8}
            goto L68
        Lc5:
            if (r3 == 0) goto Lde
            int r0 = r3.length()
            if (r0 == 0) goto Lde
            android.content.res.Resources r5 = r9.getResources()
            r1 = 2131962518(0x7f132a96, float:1.9561763E38)
            if (r7 == 0) goto Ld9
            r1 = 2131962519(0x7f132a97, float:1.9561765E38)
        Ld9:
            java.lang.Object[] r0 = new java.lang.Object[]{r3}
            goto L68
        Lde:
            android.content.res.Resources r1 = r9.getResources()
            r0 = 2131962516(0x7f132a94, float:1.956176E38)
            if (r7 == 0) goto Lea
            r0 = 2131962517(0x7f132a95, float:1.9561761E38)
        Lea:
            java.lang.String r0 = r1.getString(r0)
            goto L6c
        */
        throw new UnsupportedOperationException("Method not decompiled: X.C55627OnC.A00(android.content.Context, com.instagram.common.session.UserSession, X.1qM, X.Pna):void");
    }

    public static final void A01(Context context, UserSession userSession, InterfaceC57990Pna interfaceC57990Pna, String str) {
        CharSequence string;
        int i;
        Object[] objArr;
        boolean A1R = AbstractC167007dF.A1R(0, userSession, context);
        C14360o3.A0B(str, 4);
        C196208mB c196208mB = new C196208mB(userSession);
        C131995xZ A002 = C196068lw.A00(userSession).A00(A00);
        String str2 = A002.A04;
        C131975xX c131975xX = C131965xW.A05;
        String A05 = C131975xX.A00(userSession).A05(context, userSession);
        C193328hC A0I = AbstractC31171DnF.A0I(context);
        A0I.A0A(2131962428);
        A0I.A0s(A1R);
        A0I.A0t(A1R);
        A0I.A0J(new Og6(interfaceC57990Pna, userSession, c196208mB, str, 4), 2131962429);
        A0I.A0I(new DialogInterfaceOnClickListenerC55277Ofs(str, userSession, 7), 2131968687);
        A0I.A0g(new DialogInterfaceOnDismissListenerC55322Ogk(5, userSession, interfaceC57990Pna));
        int length = str2.length();
        if (length > 0) {
            boolean A02 = C196068lw.A02(A002);
            Resources resources = context.getResources();
            if (A02) {
                i = 2131962424;
                if (A05 != null) {
                    i = 2131962425;
                    objArr = new Object[]{str2, A05};
                }
                objArr = new Object[]{str2};
            } else {
                i = 2131962426;
                if (A05 != null) {
                    i = 2131962427;
                    objArr = new Object[]{str2, A05};
                }
                objArr = new Object[]{str2};
            }
            string = AbstractC07900bA.A00(resources, objArr, i);
        } else {
            string = context.getResources().getString(2131962423);
        }
        C14360o3.A0A(string);
        A0I.A0r(string);
        AbstractC166987dD.A1W(A0I);
        AbstractC23021Ah.A00(userSession).A0X(AbstractC166987dD.A0x(userSession).getInt("feed_fb_autoshare_upsell_dialog_display_count", 0) + 1);
        AbstractC23021Ah.A00(userSession).A0h(System.currentTimeMillis());
        C197838ou.A01(C82G.A0B, C82H.A0h, userSession);
        if (length == 0) {
            A03(EnumC201098ur.SUPPRESS, userSession, str, "empty_name");
        }
        if (A05 == null || A05.length() == 0) {
            A03(EnumC201098ur.SUPPRESS, userSession, str, "empty_audience");
        }
        A03(EnumC201098ur.VIEW, userSession, str, null);
    }

    public static final boolean A04(UserSession userSession) {
        C23031Ai A002 = AbstractC23021Ah.A00(userSession);
        boolean A03 = C196068lw.A03(C196068lw.A00(userSession).A00(A00));
        if (!C196218mC.A00(userSession) && A03) {
            long j = A002.A01.getLong("feed_fb_autoshare_upsell_dialog_last_seen_sec", 0L);
            if ((j == 0 || AbstractC43593JPy.A07() - j > 604800) && AbstractC166987dD.A0x(userSession).getInt("feed_fb_autoshare_upsell_dialog_display_count", 0) < 3) {
                if (C197838ou.A03(C82G.A0B, C82H.A0h, userSession)) {
                    return true;
                }
            }
        }
        return false;
    }

    public static final void A02(EnumC201098ur enumC201098ur, UserSession userSession, C38321qM c38321qM, String str) {
        String str2;
        C82G c82g = C82G.A0F;
        C82H c82h = C82H.A0i;
        C82I A0H = MSW.A0H();
        if (c38321qM != null) {
            str2 = c38321qM.getId();
        } else {
            str2 = null;
        }
        AbstractC50523MSb.A19(A0H, "ig_media_id", str2, str);
        AbstractC201108us.A00(c82g, enumC201098ur, c82h, A0H, userSession);
    }

    public static final void A03(EnumC201098ur enumC201098ur, UserSession userSession, String str, String str2) {
        C82G c82g = C82G.A0B;
        C82H c82h = C82H.A0h;
        C82I A0H = MSW.A0H();
        AbstractC50523MSb.A18(A0H, AbstractC166987dD.A0x(userSession).getInt("feed_fb_autoshare_upsell_dialog_display_count", 0));
        AbstractC50523MSb.A19(A0H, "waterfall_id", str, str2);
        AbstractC201108us.A00(c82g, enumC201098ur, c82h, A0H, userSession);
    }
}
