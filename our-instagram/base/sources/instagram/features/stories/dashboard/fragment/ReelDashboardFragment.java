package instagram.features.stories.dashboard.fragment;

import X.AbstractC018607g;
import X.AbstractC08820cl;
import X.AbstractC10360h2;
import X.AbstractC111324zv;
import X.AbstractC120715dH;
import X.AbstractC12220kQ;
import X.AbstractC13440mV;
import X.AbstractC13880nE;
import X.AbstractC13950nL;
import X.AbstractC166987dD;
import X.AbstractC166997dE;
import X.AbstractC167007dF;
import X.AbstractC167017dG;
import X.AbstractC18680vv;
import X.AbstractC23021Ah;
import X.AbstractC25225BEi;
import X.AbstractC25226BEj;
import X.AbstractC25227BEk;
import X.AbstractC25229BEm;
import X.AbstractC25236BEt;
import X.AbstractC25651Mw;
import X.AbstractC31171DnF;
import X.AbstractC31172DnG;
import X.AbstractC31173DnH;
import X.AbstractC31174DnI;
import X.AbstractC31175DnJ;
import X.AbstractC31176DnK;
import X.AbstractC31178DnM;
import X.AbstractC31179DnN;
import X.AbstractC37301Gc2;
import X.AbstractC37304Gc5;
import X.AbstractC38260Gs3;
import X.AbstractC38267GsC;
import X.AbstractC38851rI;
import X.AbstractC40677I1j;
import X.AbstractC40691uc;
import X.AbstractC43591JPw;
import X.AbstractC50633MWu;
import X.AbstractC54894OPp;
import X.AbstractC54912fq;
import X.AbstractC56402iY;
import X.AbstractC58317Pt9;
import X.AbstractC59962oe;
import X.AbstractC69888VxF;
import X.AbstractC69933Cc;
import X.AbstractC70163Da;
import X.AbstractC70663Fe;
import X.AbstractC82003lM;
import X.AlB;
import X.AnonymousClass001;
import X.AnonymousClass566;
import X.C05F;
import X.C06090Tz;
import X.C06P;
import X.C0f9;
import X.C0fA;
import X.C0fQ;
import X.C0w9;
import X.C105814ps;
import X.C121275eQ;
import X.C12260kU;
import X.C140966Yy;
import X.C142226bf;
import X.C14240no;
import X.C14360o3;
import X.C143726eF;
import X.C147066ji;
import X.C161887My;
import X.C189138Ze;
import X.C18920wW;
import X.C189448aO;
import X.C189458aP;
import X.C189478aR;
import X.C18C;
import X.C1Dk;
import X.C1ON;
import X.C1OU;
import X.C22P;
import X.C25401Lu;
import X.C25531Mh;
import X.C25621Ms;
import X.C25671My;
import X.C27961Xa;
import X.C28531Zo;
import X.C29358Cwr;
import X.C2JM;
import X.C31714DwJ;
import X.C32282EJt;
import X.C34568FLc;
import X.C34709FQu;
import X.C35003Fba;
import X.C36283Fza;
import X.C37986GnW;
import X.C37987GnX;
import X.C38262Gs5;
import X.C38264Gs7;
import X.C38266GsB;
import X.C38268GsD;
import X.C38287GsW;
import X.C38321qM;
import X.C38801rC;
import X.C38E;
import X.C39524Hcq;
import X.C3CO;
import X.C3DH;
import X.C3G2;
import X.C3G5;
import X.C40701ud;
import X.C41181vS;
import X.C41195ILj;
import X.C41551w4;
import X.C41628IbJ;
import X.C42767Iw5;
import X.C42776IwE;
import X.C42787IwP;
import X.C42790IwS;
import X.C42E;
import X.C43073J2n;
import X.C43076J2q;
import X.C43078J2s;
import X.C44251Jgv;
import X.C44406Jjj;
import X.C50689MZh;
import X.C52170N6z;
import X.C52378NFv;
import X.C53Z;
import X.C54922fr;
import X.C55909Os0;
import X.C55942hf;
import X.C55982hj;
import X.C56766PHj;
import X.C64020Sxr;
import X.C64842wi;
import X.C66259U6d;
import X.C66260U6e;
import X.C66277U6x;
import X.C67955V3u;
import X.C684436h;
import X.C69141ViW;
import X.C69448VnX;
import X.C6WQ;
import X.C6XJ;
import X.C70073Cr;
import X.C82013lN;
import X.C84823qW;
import X.C9C8;
import X.C9GR;
import X.EnumC153216up;
import X.EnumC74213Va;
import X.EnumC75383a5;
import X.FCP;
import X.GIS;
import X.HDC;
import X.HDD;
import X.ITS;
import X.InterfaceC02590Ai;
import X.InterfaceC145106gV;
import X.InterfaceC145276gm;
import X.InterfaceC19610xo;
import X.InterfaceC37189Ga0;
import X.InterfaceC41501vz;
import X.InterfaceC48212Jk;
import X.InterfaceC55932he;
import X.InterfaceC60072op;
import X.InterfaceC60442pS;
import X.InterfaceC69973Cg;
import X.InterfaceC71989XEc;
import X.InterfaceC81993lL;
import X.J4F;
import X.JHI;
import X.MSV;
import X.MUU;
import X.NFU;
import X.U75;
import X.ViewOnClickListenerC37847Gl1;
import X.ViewOnClickListenerC42027Ijw;
import X.ViewOnClickListenerC55463OkI;
import X.ViewOnTouchListenerC42050IkJ;
import X.XBY;
import X.XBZ;
import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.graphics.RectF;
import android.os.Bundle;
import android.os.Parcelable;
import android.util.Pair;
import android.view.GestureDetector;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.Window;
import android.widget.AbsListView;
import androidx.credentials.playservices.controllers.CreatePublicKeyCredential.PublicKeyCredentialControllerUtility;
import androidx.fragment.app.Fragment;
import androidx.fragment.app.FragmentActivity;
import androidx.recyclerview.widget.LinearLayoutManager;
import androidx.recyclerview.widget.RecyclerView;
import com.facebook.R;
import com.facebook.pando.PandoGraphQLRequest;
import com.instagram.bloks.hosting.IgBloksScreenConfig;
import com.instagram.common.session.UserSession;
import com.instagram.common.ui.widget.reboundviewpager.ReboundViewPager;
import com.instagram.common.ui.widget.touchinterceptorlayout.TouchInterceptorFrameLayout;
import com.instagram.modal.TransparentModalActivity;
import com.instagram.model.reels.Reel;
import com.instagram.model.reels.ReelViewerConfig;
import com.instagram.quickpromotion.intf.QuickPromotionSlot;
import com.instagram.realtimeclient.RealtimeSubscription;
import com.instagram.reels.api.FetchXPSFBStoryCardViewersQueryResponseImpl;
import com.instagram.reels.store.ReelStore;
import com.instagram.ui.emptystaterow.EmptyStateView;
import com.instagram.ui.widget.gradientspinneravatarview.GradientSpinnerAvatarView;
import com.instagram.ui.widget.triangleshape.TriangleShape;
import com.instagram.user.model.User;
import instagram.features.stories.dashboard.fragment.ReelDashboardFragment;
import instagram.features.stories.fragment.ReelViewerFragment;
import java.io.IOException;
import java.io.Serializable;
import java.util.ArrayList;
import java.util.Collections;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Map;
import java.util.Set;

/* loaded from: classes7.dex */
public class ReelDashboardFragment extends AbstractC59962oe implements InterfaceC60442pS, InterfaceC60072op, InterfaceC71989XEc, InterfaceC55932he, InterfaceC37189Ga0, InterfaceC41501vz, InterfaceC81993lL, JHI {
    public int A00;
    public GestureDetector A02;
    public C55982hj A03;
    public C684436h A04;
    public C18920wW A05;
    public UserSession A06;
    public Reel A07;
    public C41551w4 A08;
    public C64842wi A09;
    public GIS A0A;
    public C42776IwE A0B;
    public String A0C;
    public boolean A0F;
    public int A0G;
    public int A0H;
    public View A0J;
    public InterfaceC69973Cg A0K;
    public C3CO A0L;
    public ReelViewerConfig A0M;
    public C3G2 A0N;
    public C161887My A0O;
    public C147066ji A0P;
    public C37987GnX A0Q;
    public String A0R;
    public Set A0S;
    public boolean A0U;
    public TouchInterceptorFrameLayout mContainer;
    public EmptyStateView mEmptyView;
    public ReboundViewPager mImageViewPager;
    public C38262Gs5 mListAdapter;
    public ReboundViewPager mListViewPager;
    public C44251Jgv mPagerAdapter;
    public ReboundViewPager mScrollOwner;
    public final Map A0X = AbstractC166987dD.A1G();
    public final Set A0Y = AbstractC166987dD.A1H();
    public int A01 = -1;
    public final Map A0Z = AbstractC166987dD.A1G();
    public boolean A0V = true;
    public boolean A0D = true;
    public long A0I = 0;
    public boolean A0E = false;
    public boolean A0T = true;
    public final Set A0a = AbstractC166987dD.A1H();
    public final Runnable A0W = new J4F(this);

    public static void A09(XBZ xbz, ReelDashboardFragment reelDashboardFragment, String str, String str2, boolean z, boolean z2, boolean z3) {
        if (reelDashboardFragment.isVisible()) {
            U75 u75 = new U75(xbz, reelDashboardFragment, str, 1, z, z3);
            UserSession userSession = reelDashboardFragment.A06;
            String str3 = reelDashboardFragment.A0C;
            C3G2 c3g2 = reelDashboardFragment.A0N;
            if (c3g2 == null) {
                c3g2 = C3G2.A23;
            }
            String str4 = c3g2.A00;
            C25621Ms A0N = AbstractC31173DnH.A0N(userSession);
            AbstractC31173DnH.A1Q(A0N, "media/%s/list_reel_media_viewer/", new Object[]{str.split("_")[0]});
            A0N.A0I("story_has_interactive_stickers", z2);
            if (str2 != null) {
                A0N.A9s("max_id", str2);
            }
            if (z3) {
                A0N.A9s("disable_pagination", "true");
            }
            A0N.A9s(MSV.A00(1533), str4);
            A0N.A9s("reel_id", str3);
            Pair A00 = AnonymousClass566.A00(userSession);
            A0N.A0H((String) A00.first, (String) A00.second);
            C1ON A0S = AbstractC31172DnG.A0S(A0N, C66260U6e.class, C66259U6d.class);
            A0S.A00 = u75;
            reelDashboardFragment.schedule(A0S);
        }
    }

    public final void A0J(C38321qM c38321qM) {
        if (getActivity() != null) {
            AbstractC69888VxF.A00().A07(this, null, null, this, this.A06, c38321qM, AnonymousClass001.A0R("reel_", "dashboard"), null, true);
        }
    }

    public final void A0K(C41181vS c41181vS) {
        Reel reel = this.A07;
        reel.getClass();
        if (reel.A0i()) {
            Context requireContext = requireContext();
            C38321qM c38321qM = c41181vS.A0b;
            c38321qM.getClass();
            AbstractC54894OPp.A00(requireContext, null, AbstractC018607g.A00(this), this.A06, c38321qM, reel, C3G2.A0Y);
            return;
        }
        C55909Os0.A0Y.A04(requireActivity(), null, this, getParentFragmentManager(), this, this, this.A06, reel, c41181vS, new InterfaceC145276gm() { // from class: X.IwH
            @Override // X.InterfaceC145276gm
            public final void D9p(Reel reel2, C41181vS c41181vS2) {
                ReelDashboardFragment.this.isVisible();
            }
        });
    }

    public final void A0N(String str, boolean z) {
        C41181vS A0G;
        if (this.mListAdapter.A07(str) != null) {
            C38264Gs7 A01 = C38262Gs5.A01(this.mListAdapter, str);
            if ((A01 != null && A01.A0k.A0A) || (A0G = A0G()) == null) {
                return;
            }
            if (!A0G.A0n.isEmpty()) {
                A08(new C43076J2q(this, str), this, str, this.mListAdapter.A07(str), true);
            } else {
                A09(new C43078J2s(this, str), this, str, this.mListAdapter.A07(str), false, z, true);
            }
        }
    }

    @Override // X.JHI
    public final /* synthetic */ void Dcf(C41628IbJ c41628IbJ, int i) {
    }

    @Override // X.InterfaceC55932he
    public final void Dnj(C55982hj c55982hj) {
    }

    @Override // X.InterfaceC55932he
    public final void Dnk(C55982hj c55982hj) {
    }

    @Override // X.InterfaceC55932he
    public final void Dnl(C55982hj c55982hj) {
    }

    @Override // X.InterfaceC60442pS
    public final boolean isOrganicEligible() {
        return true;
    }

    @Override // X.InterfaceC60442pS
    public final boolean isSponsoredEligible() {
        return true;
    }

    private void A02() {
        AbstractC10360h2 abstractC10360h2 = this.mFragmentManager;
        FragmentActivity activity = getActivity();
        if (abstractC10360h2 != null && C06P.A01(abstractC10360h2) && activity != null && !abstractC10360h2.A18(AbstractC111324zv.A00(94), 1)) {
            AbstractC25227BEk.A1B(this);
        }
    }

    private void A03() {
        C41551w4 c41551w4;
        View view;
        Reel reel = this.A07;
        if (reel != null) {
            C18C.A0F(AbstractC38260Gs3.A02(this.A06, reel));
            C25671My A00 = AbstractC25651Mw.A00(this.A06);
            A00.A01(this, C3DH.class);
            A00.A01(this.A0O, C70073Cr.class);
            if (!(!AbstractC38260Gs3.A01(this.A06, this.A07)) && (view = this.A0J) != null) {
                view.setVisibility(8);
            } else {
                this.A0J.setVisibility(0);
            }
            C41551w4 c41551w42 = new C41551w4(this.A06, this.A07, this.A0S);
            this.A08 = c41551w42;
            if (this.A01 == -1) {
                this.A01 = c41551w42.A04(this.A06, this.A0R);
            }
            C44251Jgv c44251Jgv = this.mPagerAdapter;
            c44251Jgv.A00 = this.A08;
            C0fA.A00(c44251Jgv, 1275159177);
            C38262Gs5 c38262Gs5 = this.mListAdapter;
            c38262Gs5.A01 = this.A08;
            C0fA.A00(c38262Gs5, 364822671);
            this.mListAdapter.A00 = this.A01;
            this.mEmptyView.setVisibility(8);
            this.mImageViewPager.A0K(this.A01);
            this.mListViewPager.A0K(this.A01);
            if (this.A0V) {
                this.A0V = false;
                int i = this.A01;
                if (i >= 0 && (c41551w4 = this.A08) != null && i < c41551w4.A02(this.A06)) {
                    this.A08.A0A(this.A06, this.A01);
                    A0C(this, this.A01);
                }
            }
        }
    }

    public static void A04(RectF rectF, ReelDashboardFragment reelDashboardFragment, float f) {
        float A0A;
        TouchInterceptorFrameLayout touchInterceptorFrameLayout = reelDashboardFragment.mContainer;
        if (touchInterceptorFrameLayout != null) {
            Context context = touchInterceptorFrameLayout.getContext();
            C41551w4 c41551w4 = reelDashboardFragment.A08;
            if (c41551w4 != null && C143726eF.A0D(context, c41551w4)) {
                A0A = AbstractC13880nE.A09(context) / (reelDashboardFragment.A0H / 0.5625f);
            } else {
                A0A = AbstractC13880nE.A0A(context) / reelDashboardFragment.A0H;
            }
            double d = f;
            float A03 = (float) AbstractC70163Da.A03(d, 1.0d, A0A);
            reelDashboardFragment.mContainer.setScaleX(A03);
            reelDashboardFragment.mContainer.setScaleY(A03);
            float width = (reelDashboardFragment.mContainer.getWidth() / 2) - rectF.centerX();
            float height = (reelDashboardFragment.mContainer.getHeight() / 2) - rectF.centerY();
            float A01 = (float) AbstractC70163Da.A01(d, width * A0A);
            float A012 = (float) AbstractC70163Da.A01(d, height * A0A);
            reelDashboardFragment.mContainer.setTranslationX(A01);
            reelDashboardFragment.mContainer.setTranslationY(A012);
        }
    }

    public static void A05(View view, ReelDashboardFragment reelDashboardFragment) {
        if (!reelDashboardFragment.A0U) {
            reelDashboardFragment.A0U = true;
            RectF A0G = AbstractC13880nE.A0G(view);
            Bundle A0b = AbstractC166987dD.A0b();
            A0b.putSerializable(AbstractC43591JPw.A00(27), C22P.A3d);
            A0b.putParcelable(AbstractC111324zv.A00(1729), A0G);
            C6XJ.A02(reelDashboardFragment.requireActivity(), A0b, reelDashboardFragment.A06, TransparentModalActivity.class, AbstractC111324zv.A00(5164)).A0C(reelDashboardFragment.requireContext());
        }
    }

    public static void A07(C69448VnX c69448VnX, ReelDashboardFragment reelDashboardFragment) {
        String str;
        C38262Gs5 c38262Gs5 = reelDashboardFragment.mListAdapter;
        if (c38262Gs5 != null && (str = c69448VnX.A09) != null) {
            C38264Gs7 c38264Gs7 = (C38264Gs7) c38262Gs5.A0C.get(AbstractC23021Ah.A00(c38262Gs5.A07).A01.getString(AnonymousClass001.A0R("reel_viewers_list_megaphone_item_id", str), null));
            if (c38264Gs7 != null) {
                C37986GnW c37986GnW = c38264Gs7.A0k;
                InterfaceC19610xo A0w = AbstractC166987dD.A0w(AbstractC23021Ah.A00(c37986GnW.A0J));
                A0w.E77(AnonymousClass001.A0R("dismissed_reel_viewers_list_megaphone", str), true);
                A0w.apply();
                c37986GnW.A07();
            }
        }
    }

    public static void A08(XBY xby, final ReelDashboardFragment reelDashboardFragment, final String str, String str2, boolean z) {
        Integer num;
        if (reelDashboardFragment.isVisible()) {
            if (AbstractC31178DnM.A1X(C06090Tz.A05, reelDashboardFragment.A06, 36316787461067412L)) {
                C38262Gs5 c38262Gs5 = reelDashboardFragment.mListAdapter;
                if (c38262Gs5 != null) {
                    c38262Gs5.A0B(str, true);
                }
                C40701ud A01 = AbstractC40691uc.A01(reelDashboardFragment.A06);
                if (z) {
                    num = C25401Lu.A01;
                } else if (str2 == null) {
                    num = C25401Lu.A03;
                } else {
                    num = C25401Lu.A04;
                }
                int intValue = num.intValue();
                C2JM A0b = AbstractC25225BEi.A0b();
                C2JM A0b2 = AbstractC25225BEi.A0b();
                C38801rC c38801rC = C38321qM.A0h;
                String A06 = C38801rC.A06(str);
                C14360o3.A0B(A06, 0);
                A0b.A04(PublicKeyCredentialControllerUtility.JSON_KEY_ID, A06);
                A0b.A02(AbstractC58317Pt9.A00(825), true);
                A0b.A02(AbstractC58317Pt9.A00(826), true);
                A0b.A02(AbstractC58317Pt9.A00(827), true);
                Integer num2 = C25401Lu.A02;
                A0b.A03("profile_pic_height", num2);
                A0b.A03("profile_pic_width", num2);
                A0b.A04("after", str2);
                A0b.A03("first", Integer.valueOf(intValue));
                C1Dk maxToleratedCacheAgeMs = new PandoGraphQLRequest(AbstractC25225BEi.A0c(), "FetchXPSFBStoryCardViewersQuery", A0b.getParamsCopy(), A0b2.getParamsCopy(), FetchXPSFBStoryCardViewersQueryResponseImpl.class, false, null, 0, null, "xcxp_fetch_story", AbstractC166987dD.A1E()).setFreshCacheAgeMs(0L).setMaxToleratedCacheAgeMs(0L);
                A01.ATV(new InterfaceC48212Jk() { // from class: X.Il0
                    @Override // X.InterfaceC48212Jk
                    public final void invoke(Throwable th) {
                        ReelDashboardFragment reelDashboardFragment2 = ReelDashboardFragment.this;
                        String str3 = str;
                        C38262Gs5 c38262Gs52 = reelDashboardFragment2.mListAdapter;
                        if (c38262Gs52 != null) {
                            c38262Gs52.A0B(str3, false);
                        }
                    }
                }, new C64020Sxr(xby, reelDashboardFragment, str, 1), maxToleratedCacheAgeMs);
                return;
            }
            C67955V3u c67955V3u = new C67955V3u(xby, reelDashboardFragment, str, 1);
            C25621Ms A0N = AbstractC31173DnH.A0N(reelDashboardFragment.A06);
            AbstractC31173DnH.A1Q(A0N, "media/%s/list_reel_media_fb_viewer/", new Object[]{str.split("_")[0]});
            if (str2 != null) {
                A0N.A9s("cursor", str2);
            }
            if (z) {
                A0N.A0D("page_size", 1000);
            }
            C1ON A0S = AbstractC31172DnG.A0S(A0N, C66260U6e.class, C66259U6d.class);
            A0S.A00 = c67955V3u;
            reelDashboardFragment.schedule(A0S);
        }
    }

    public static void A0A(ReelDashboardFragment reelDashboardFragment) {
        reelDashboardFragment.mEmptyView.setVisibility(0);
        reelDashboardFragment.mEmptyView.A0L();
        AbstractC82003lM.A00(reelDashboardFragment.A06).A05(reelDashboardFragment, reelDashboardFragment.A0C, null, false);
        AbstractC82003lM.A00(reelDashboardFragment.A06).A02(C3G5.A0I, reelDashboardFragment.A0C, AnonymousClass001.A0R("reel_", "dashboard"), null);
    }

    public static void A0B(ReelDashboardFragment reelDashboardFragment) {
        Activity requireActivity;
        AbstractC10360h2 abstractC10360h2 = reelDashboardFragment.mFragmentManager;
        FragmentActivity activity = reelDashboardFragment.getActivity();
        if (abstractC10360h2 != null && C06P.A01(abstractC10360h2) && activity != null) {
            C0w9.A03(C38262Gs5.__redex_internal_original_name, "Resetting view holder id counter");
            C38262Gs5.A0H = 0;
            if (reelDashboardFragment.getRootActivity() != null) {
                requireActivity = reelDashboardFragment.getRootActivity();
            } else {
                requireActivity = reelDashboardFragment.requireActivity();
            }
            AbstractC13880nE.A0K(requireActivity);
            AbstractC25226BEj.A1Q(reelDashboardFragment);
        }
    }

    public static void A0C(ReelDashboardFragment reelDashboardFragment, int i) {
        C41181vS A0A;
        C38321qM c38321qM;
        String str;
        C41551w4 c41551w4 = reelDashboardFragment.A08;
        if (c41551w4 != null && i >= 0 && i < c41551w4.A02(reelDashboardFragment.A06) && (c38321qM = (A0A = reelDashboardFragment.A08.A0A(reelDashboardFragment.A06, i)).A0b) != null) {
            InterfaceC02590Ai A0f = AbstractC166987dD.A0f(reelDashboardFragment.A05, "reel_viewer_dashboard_feedback");
            A0f.A9K("total_view_count", AbstractC31171DnF.A0V(c38321qM.A11()));
            if (c38321qM.A38() == null) {
                str = "";
            } else {
                str = c38321qM.A38();
            }
            A0f.AAP("media_id", str);
            A0f.AAP(AbstractC111324zv.A00(5307), "");
            Long A0d = AbstractC167007dF.A0d();
            A0f.A9K("has_light_feedback", A0d);
            A0f.A9K("total_feedback_count", A0d);
            A0f.A9K("ig_view_count", AbstractC31171DnF.A0V(AbstractC167017dG.A0K(c38321qM.A0C.CG5())));
            A0f.A9K("fb_view_count", AbstractC31171DnF.A0V(AbstractC167017dG.A0K(c38321qM.A0C.B58())));
            A0f.A9K("fb_anon_view_count", AbstractC31171DnF.A0V(A0A.A00));
            AbstractC25225BEi.A1N(A0f, "");
            A0f.Cht();
        }
    }

    public final C41181vS A0G() {
        C41551w4 c41551w4;
        int i;
        ReboundViewPager reboundViewPager = this.mListViewPager;
        if (reboundViewPager == null || (c41551w4 = this.A08) == null || (i = reboundViewPager.A08) >= c41551w4.A02(this.A06)) {
            return null;
        }
        return this.A08.A0A(this.A06, i);
    }

    /* JADX WARN: Failed to find 'out' block for switch in B:3:0x0007. Please report as an issue. */
    /* JADX WARN: Multi-variable type inference failed */
    /* JADX WARN: Type inference failed for: r1v13, types: [X.EID, androidx.fragment.app.Fragment, X.2oe] */
    public final void A0I(View view, C41181vS c41181vS, Integer num) {
        AlB A0B;
        C140966Yy A0C;
        String str;
        Fragment c39524Hcq;
        Bundle A0b;
        String str2;
        String str3;
        if (view == null) {
            return;
        }
        switch (num.intValue()) {
            case 0:
                A0C = AbstractC37304Gc5.A0C(this);
                String str4 = c41181vS.A0k;
                str = c41181vS.A0j;
                AbstractC167017dG.A1N(str4, str);
                c39524Hcq = new C39524Hcq();
                A0b = AbstractC166987dD.A0b();
                A0b.putString("ReelUserListFragment.REEL_ID", str4);
                str2 = "ReelUserListFragment.REEL_ITEM_ID";
                A0b.putString(str2, str);
                c39524Hcq.setArguments(A0b);
                A0C.A0E(c39524Hcq);
                A0C.A04();
                return;
            case 1:
                RectF rectF = AbstractC13880nE.A01;
                RectF rectF2 = new RectF();
                AbstractC13880nE.A0M(rectF2, view);
                C6WQ c6wq = new C6WQ(requireContext());
                c6wq.A00(getString(2131965660));
                Context requireContext = requireContext();
                UserSession userSession = this.A06;
                C38321qM c38321qM = c41181vS.A0b;
                c38321qM.getClass();
                C121275eQ A00 = AbstractC50633MWu.A00(requireContext, userSession, c38321qM, "ReelDashboardFragment");
                A00.A00 = new NFU(1, rectF2, c41181vS, c6wq, this);
                schedule(A00);
                return;
            case 2:
                A0C = AbstractC37304Gc5.A0C(this);
                String str5 = c41181vS.A0k;
                str = c41181vS.A0j;
                AbstractC167017dG.A1N(str5, str);
                c39524Hcq = new C53Z();
                A0b = AbstractC166987dD.A0b();
                A0b.putString("ReelQuestionResponsesListFragment.REEL_ID", str5);
                str2 = "ReelQuestionResponsesListFragment.REEL_ITEM_ID";
                A0b.putString(str2, str);
                c39524Hcq.setArguments(A0b);
                A0C.A0E(c39524Hcq);
                A0C.A04();
                return;
            case 3:
                A0C = AbstractC37304Gc5.A0C(this);
                c39524Hcq = ITS.A00(c41181vS.A0k, c41181vS.A0j, -1);
                A0C.A0E(c39524Hcq);
                A0C.A04();
                return;
            case 4:
                A0C = AbstractC37304Gc5.A0C(this);
                String str6 = c41181vS.A0k;
                str = c41181vS.A0j;
                AbstractC167017dG.A1N(str6, str);
                c39524Hcq = new HDD();
                A0b = AbstractC166987dD.A0b();
                A0b.putString("ReelSliderVotersListFragment.REEL_ID", str6);
                str2 = "ReelSliderVotersListFragment.REEL_ITEM_ID";
                A0b.putString(str2, str);
                c39524Hcq.setArguments(A0b);
                A0C.A0E(c39524Hcq);
                A0C.A04();
                return;
            case 5:
                A0C = AbstractC37304Gc5.A0C(this);
                String str7 = c41181vS.A0k;
                str = c41181vS.A0j;
                AbstractC167017dG.A1N(str7, str);
                c39524Hcq = new HDC();
                A0b = AbstractC166987dD.A0b();
                A0b.putString("ReelFundraiserDonorsListFragment.REEL_ID", str7);
                str2 = "ReelFundraiserDonorsListFragment.REEL_ITEM_ID";
                A0b.putString(str2, str);
                c39524Hcq.setArguments(A0b);
                A0C.A0E(c39524Hcq);
                A0C.A04();
                return;
            case 6:
                C84823qW A002 = AbstractC120715dH.A00(EnumC75383a5.A0b, c41181vS.A0c());
                if (A002 == null) {
                    A0B = null;
                } else {
                    A0B = A002.A0B();
                }
                A0B.getClass();
                UserSession userSession2 = this.A06;
                C22P c22p = C22P.A2r;
                Context requireContext2 = requireContext();
                C189138Ze c189138Ze = A0B.A00;
                User user = c189138Ze.A02;
                String str8 = c189138Ze.A0A;
                int[] iArr = AlB.A02;
                int A0C2 = AbstractC13950nL.A0C(str8, iArr[0]);
                int A0C3 = AbstractC13950nL.A0C(c189138Ze.A05, iArr[1]);
                int A0C4 = AbstractC13950nL.A0C(c189138Ze.A0D, -16777216);
                Bundle A0b2 = AbstractC166987dD.A0b();
                A0b2.putSerializable(AbstractC111324zv.A00(89), c22p);
                A0b2.putInt(AbstractC111324zv.A00(1736), A0C2);
                A0b2.putInt(AbstractC111324zv.A00(1735), A0C3);
                A0b2.putInt(AbstractC111324zv.A00(1737), A0C4);
                try {
                    String A003 = AbstractC111324zv.A00(1734);
                    user.getClass();
                    Parcelable.Creator creator = User.CREATOR;
                    A0b2.putString(A003, AbstractC38851rI.A07(user));
                    C6XJ.A02((Activity) requireContext2, A0b2, userSession2, TransparentModalActivity.class, AbstractC111324zv.A00(5168)).A0C(requireContext2);
                    return;
                } catch (IOException unused) {
                    C0w9.A03(AbstractC111324zv.A00(670), "Could not json serialize model User for the fundraiser public thanks sticker.");
                    return;
                }
            case 7:
                A06(c41181vS, this, null);
                return;
            case 8:
                C38321qM c38321qM2 = c41181vS.A0b;
                if (c38321qM2 != null && c38321qM2.A38() != null) {
                    InterfaceC02590Ai A0f = AbstractC166987dD.A0f(this.A05, "reel_viewer_dashboard_fb_viewers_info_icon_tapped");
                    A0f.AAP("module", AnonymousClass001.A0R("reel_", "dashboard"));
                    AbstractC25236BEt.A0r(A0f, c38321qM2.A38());
                    A0f.Cht();
                }
                C189448aO A0y = AbstractC25225BEi.A0y(this.A06);
                AbstractC25226BEj.A1M(requireContext(), A0y, 2131971680);
                C189458aP c189458aP = new C189458aP();
                c189458aP.A06 = requireContext().getString(2131971715);
                c189458aP.A05 = new ViewOnClickListenerC42027Ijw(15, this, c41181vS);
                A0y.A07(c189458aP.A00());
                A0y.A0U = new C56766PHj(this, 22);
                C189478aR A004 = A0y.A00();
                ?? abstractC59962oe = new AbstractC59962oe();
                abstractC59962oe.A00 = new C34568FLc(A004, c41181vS, this);
                A004.A03(requireContext(), abstractC59962oe);
                return;
            case 9:
                String A0P = c41181vS.A0P();
                A0P.getClass();
                C38264Gs7 c38264Gs7 = (C38264Gs7) this.mListAdapter.A0C.get(c41181vS.A0j);
                if (c38264Gs7 != null) {
                    str3 = c38264Gs7.A0k.A08;
                } else {
                    str3 = null;
                }
                if (c41181vS.A04 != null) {
                    C28531Zo c28531Zo = C28531Zo.A04;
                    UserSession userSession3 = this.A06;
                    FragmentActivity requireActivity = requireActivity();
                    C35003Fba c35003Fba = c41181vS.A04;
                    AbstractC167007dF.A1E(userSession3, 0, c35003Fba);
                    C32282EJt A03 = c28531Zo.A02.A03(c35003Fba, A0P, str3, AbstractC31171DnF.A0l(), true);
                    C140966Yy A0r = AbstractC25225BEi.A0r(requireActivity, userSession3);
                    C14360o3.A0A(A03);
                    AbstractC25229BEm.A18(A03, A0r);
                }
                if (str3 == null) {
                    return;
                }
                C36283Fza A005 = AbstractC40677I1j.A00(this.A06);
                C25531Mh A0F = C25531Mh.A0F(A005.A00);
                if (!AbstractC25226BEj.A1Z(A0F)) {
                    return;
                }
                AbstractC31178DnM.A1F(A0F, A005.A01);
                A0F.A0k("jcs_view_all_recipients");
                A0F.A0j("tap");
                AbstractC31179DnN.A1E(A0F, AbstractC111324zv.A00(1068), A0P, str3);
                return;
            default:
                String str9 = c41181vS.A0j;
                if (str9 != null) {
                    A0C = AbstractC37304Gc5.A0C(this);
                    String str10 = this.A0C;
                    Bundle A0E = AbstractC31174DnI.A0E(str10, 0);
                    A0E.putString(MSV.A00(931), str10);
                    A0E.putString(MSV.A00(930), str9);
                    c39524Hcq = new C52170N6z();
                    c39524Hcq.setArguments(A0E);
                    A0C.A0E(c39524Hcq);
                    A0C.A04();
                    return;
                }
                return;
        }
    }

    public final void A0L(C41181vS c41181vS, int i) {
        C38264Gs7 A01;
        C38262Gs5 c38262Gs5 = this.mListAdapter;
        String str = c41181vS.A0j;
        if (str != null && (A01 = C38262Gs5.A01(c38262Gs5, str)) != null) {
            boolean z = c38262Gs5.A0F;
            ViewGroup CFj = A01.A0h.CFj();
            if (z) {
                AbstractC70663Fe abstractC70663Fe = ((RecyclerView) CFj).A0D;
                abstractC70663Fe.getClass();
                ((LinearLayoutManager) abstractC70663Fe).A1p(i, 0);
                return;
            }
            ((AbsListView) CFj).setSelectionFromTop(i, 0);
        }
    }

    /* JADX WARN: Code restructure failed: missing block: B:21:0x0034, code lost:
    
        if (X.C41551w4.A00(r1, r2).isEmpty() != false) goto L19;
     */
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void A0O(boolean r6) {
        /*
            r5 = this;
            boolean r0 = r5.A0D
            if (r0 == 0) goto Lb
            com.instagram.model.reels.Reel r1 = r5.A07
            if (r1 == 0) goto Lb
            r0 = 1
            r1.A1q = r0
        Lb:
            r4 = 1
            if (r6 == 0) goto L3f
            X.6ji r0 = r5.A0P
            boolean r0 = r0.A01()
            if (r0 == 0) goto L3f
            com.instagram.model.reels.Reel r1 = r5.A07
            if (r1 == 0) goto L22
            com.instagram.common.session.UserSession r0 = r5.A06
            boolean r0 = r1.A15(r0)
            if (r0 != 0) goto L36
        L22:
            X.1w4 r2 = r5.A08
            if (r2 == 0) goto L67
            com.instagram.common.session.UserSession r1 = r5.A06
            r0 = 0
            X.C14360o3.A0B(r1, r0)
            java.util.List r0 = X.C41551w4.A00(r1, r2)
            boolean r0 = r0.isEmpty()
            if (r0 == 0) goto L67
        L36:
            X.6ji r1 = r5.A0P
            r0 = 0
            r1.A00(r0, r4)
        L3c:
            r5.A0D = r4
            return
        L3f:
            com.instagram.model.reels.Reel r1 = r5.A07
            if (r1 == 0) goto L4f
            com.instagram.common.session.UserSession r0 = r5.A06
            boolean r0 = r1.A15(r0)
            if (r0 == 0) goto L4f
            r5.A02()
            goto L3c
        L4f:
            X.1w4 r2 = r5.A08
            if (r2 == 0) goto L6e
            com.instagram.common.session.UserSession r1 = r5.A06
            r0 = 0
            X.C14360o3.A0B(r1, r0)
            java.util.List r0 = X.C41551w4.A00(r1, r2)
            boolean r0 = r0.isEmpty()
            if (r0 == 0) goto L6e
            A0B(r5)
            goto L3c
        L67:
            X.6ji r2 = r5.A0P
            r1 = 0
            r0 = 0
            r2.A00(r0, r1)
        L6e:
            boolean r0 = A0F(r5)
            if (r0 != 0) goto L3c
            android.view.View r3 = r5.mView
            if (r3 == 0) goto L3c
            r1 = 0
            java.lang.Runnable r0 = r5.A0W
            r3.removeCallbacks(r0)
            r3.postDelayed(r0, r1)
            goto L3c
        */
        throw new UnsupportedOperationException("Method not decompiled: instagram.features.stories.dashboard.fragment.ReelDashboardFragment.A0O(boolean):void");
    }

    @Override // X.InterfaceC37189Ga0
    public final void CtK(C38266GsB c38266GsB) {
        C0fA.A00(this.mListAdapter, 2045785026);
    }

    @Override // X.InterfaceC37189Ga0
    public final void CtN() {
        C38262Gs5 c38262Gs5 = this.mListAdapter;
        if (c38262Gs5 != null) {
            C0fA.A00(c38262Gs5, -1971015149);
        }
    }

    @Override // X.InterfaceC71989XEc
    public final void Cw7(C69141ViW c69141ViW) {
        this.A0B.Cw7(c69141ViW);
    }

    @Override // X.InterfaceC71989XEc
    public final void Czl(C38266GsB c38266GsB) {
        this.A0B.Czl(c38266GsB);
    }

    @Override // X.InterfaceC71989XEc
    public final void D4K(Reel reel, GradientSpinnerAvatarView gradientSpinnerAvatarView) {
        this.A0B.D4K(reel, gradientSpinnerAvatarView);
    }

    @Override // X.InterfaceC71989XEc
    public final void DAN(C38266GsB c38266GsB, C41181vS c41181vS, User user, boolean z) {
        this.A0B.DAN(c38266GsB, c41181vS, user, z);
    }

    @Override // X.InterfaceC81993lL
    public final void DPm(String str) {
        this.mEmptyView.A0J();
        C9GR.A0D(getContext(), "onLoadFailure_network_error");
    }

    @Override // X.InterfaceC81993lL
    public final void DPz(String str, boolean z) {
        Reel A0M = ReelStore.A03(this.A06).A0M(this.A0C);
        this.A07 = A0M;
        this.A0A.A00 = A0M;
        if (A0M != null && A0M.A15(this.A06)) {
            A02();
        } else {
            A03();
        }
    }

    @Override // X.InterfaceC71989XEc
    public final void DTP(C38266GsB c38266GsB, C41181vS c41181vS, User user) {
        this.A0B.DTP(c38266GsB, c41181vS, user);
    }

    @Override // X.InterfaceC71989XEc
    public final void DXH(C38266GsB c38266GsB) {
        this.A0B.DXH(c38266GsB);
    }

    @Override // X.JHI
    public final void Dch(C41628IbJ c41628IbJ, int i) {
        this.A0Q.A00(i);
    }

    @Override // X.InterfaceC55932he
    public final void Dnm(C55982hj c55982hj) {
        ReboundViewPager reboundViewPager = this.mImageViewPager;
        if (reboundViewPager != this.mScrollOwner) {
            reboundViewPager.A0R(true, (float) c55982hj.A09.A00);
        }
    }

    @Override // X.InterfaceC71989XEc
    public final void DtW(C69141ViW c69141ViW) {
        this.A0B.DtW(c69141ViW);
    }

    @Override // X.InterfaceC71989XEc
    public final void DtX(User user) {
        this.A0B.DtX(user);
    }

    @Override // X.InterfaceC71989XEc
    public final void E17(C38266GsB c38266GsB) {
        this.A0B.E17(c38266GsB);
    }

    @Override // X.InterfaceC37189Ga0
    public final void F9G(C38266GsB c38266GsB) {
        C38264Gs7 c38264Gs7;
        C38262Gs5 c38262Gs5 = this.mListAdapter;
        C41181vS c41181vS = c38266GsB.A0K;
        if (c41181vS != null && (c38264Gs7 = (C38264Gs7) c38262Gs5.A0C.get(c41181vS.A0j)) != null) {
            C37986GnW c37986GnW = c38264Gs7.A0k;
            Object obj = c37986GnW.A0V.get(c38266GsB.A0L);
            List list = c37986GnW.A0Z;
            int indexOf = list.indexOf(obj);
            if (indexOf >= 0 && indexOf < list.size()) {
                list.remove(indexOf);
                List list2 = c37986GnW.A0Y;
                list2.add(obj);
                C41181vS c41181vS2 = c37986GnW.A03;
                c41181vS2.getClass();
                List list3 = c41181vS2.A0p;
                list3.clear();
                list3.addAll(list2);
                List list4 = c37986GnW.A03.A0o;
                list4.clear();
                list4.addAll(list);
                c37986GnW.A07();
            }
        }
    }

    @Override // X.InterfaceC11380iw
    public final String getModuleName() {
        return AnonymousClass001.A0R("reel_", "dashboard");
    }

    @Override // X.AbstractC59962oe
    public final AbstractC18680vv getSession() {
        return this.A06;
    }

    @Override // X.InterfaceC60072op
    public final boolean onBackPressed() {
        String str;
        if (this.A0F || this.A07 == null) {
            return false;
        }
        if (!C1OU.A06(requireActivity(), this.A06).A0b()) {
            this.A0F = false;
            RectF A00 = A00(this);
            C41551w4 c41551w4 = this.A08;
            if (c41551w4 != null && !c41551w4.A0E(this.A06)) {
                C41551w4 c41551w42 = this.A08;
                UserSession userSession = this.A06;
                str = c41551w42.A0A(userSession, Math.min(this.mImageViewPager.A08, c41551w42.A02(userSession) - 1)).A0j;
            } else {
                str = null;
            }
            C1OU.A06(requireActivity(), this.A06).A0V(null, A00, this, this.A07, C3G2.A0Y, new C42787IwP(A00, this), str, null, -2, false);
        }
        return true;
    }

    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    public final void onViewCreated(View view, Bundle bundle) {
        super.onViewCreated(view, bundle);
        this.A0H = AbstractC13880nE.A0A(requireContext()) / 5;
        this.A0G = AbstractC166997dE.A0N(this).getDimensionPixelOffset(R.dimen.abc_button_inset_vertical_material);
        this.mContainer = (TouchInterceptorFrameLayout) view.findViewById(R.id.container);
        C27961Xa A00 = AbstractC54912fq.A00();
        UserSession userSession = this.A06;
        QuickPromotionSlot quickPromotionSlot = QuickPromotionSlot.A17;
        C54922fr A0S = AbstractC31175DnJ.A0S();
        A0S.A04 = new C42767Iw5(this, 2);
        A0S.A08 = new MUU(this, 8);
        C64842wi A0T = AbstractC31175DnJ.A0T(this, userSession, A0S, A00, quickPromotionSlot);
        this.A09 = A0T;
        A0T.DiZ();
        C0fQ.A00(new ViewOnClickListenerC37847Gl1(this, 28), view.requireViewById(R.id.button_close));
        View requireViewById = view.requireViewById(R.id.button_settings);
        this.A0J = requireViewById;
        C0fQ.A00(new ViewOnClickListenerC55463OkI(this, 53), requireViewById);
        EmptyStateView emptyStateView = (EmptyStateView) view.requireViewById(android.R.id.empty);
        this.mEmptyView = emptyStateView;
        if (this.A00 == 0) {
            emptyStateView.A0N(new ViewOnClickListenerC37847Gl1(this, 29), EnumC153216up.A04);
        }
        ReboundViewPager reboundViewPager = (ReboundViewPager) view.requireViewById(R.id.view_pager);
        this.mImageViewPager = reboundViewPager;
        reboundViewPager.setExtraBufferSize(4);
        C44251Jgv c44251Jgv = new C44251Jgv(this, this.A06, this, this.A0H);
        this.mPagerAdapter = c44251Jgv;
        this.mImageViewPager.setAdapter(c44251Jgv);
        ReboundViewPager reboundViewPager2 = this.mImageViewPager;
        reboundViewPager2.A0C = this.A0H;
        reboundViewPager2.setPageSpacing(this.A0G);
        this.mImageViewPager.A0P(new C52378NFv(this, 1));
        this.mImageViewPager.setScrollMode(EnumC74213Va.A04);
        this.mImageViewPager.A0J = new C42E(this.A0H, this.A0G, 0.7f);
        this.mListViewPager = (ReboundViewPager) view.requireViewById(R.id.list_view_pager);
        C41195ILj c41195ILj = new C41195ILj(this.A06);
        if (requireArguments().getBoolean(AbstractC111324zv.A00(3732), false)) {
            c41195ILj.A00(false);
        }
        this.mListAdapter = new C38262Gs5(this, this, this.A06, this.A0M, this.A0N, c41195ILj, this);
        this.A0O = new C161887My(requireContext(), this.A06, this.mListAdapter);
        C38262Gs5 c38262Gs5 = this.mListAdapter;
        Map map = this.A0Z;
        Map map2 = c38262Gs5.A0D;
        map2.clear();
        map2.putAll(map);
        map.clear();
        this.mListViewPager.setAdapter(this.mListAdapter);
        C55982hj A0R = AbstractC167007dF.A0R();
        A0R.A09(C55942hf.A04(70.0d, 8.0d));
        this.A03 = A0R;
        this.mListViewPager.A0P(new C38268GsD(this));
        TriangleShape triangleShape = (TriangleShape) view.requireViewById(R.id.notch);
        triangleShape.A00 = this.mImageViewPager;
        triangleShape.invalidate();
        C34709FQu c34709FQu = new C34709FQu(this.A05);
        this.A0A = new GIS(this, this, this.A06, this, c34709FQu, this);
        UserSession userSession2 = this.A06;
        this.A0B = new C42776IwE(this, userSession2, this, new C42790IwS(this, 4), new C38E(this, userSession2, AbstractC37301Gc2.A0L(this)), c34709FQu, this.A0A, this, this, AbstractC166997dE.A0n());
        if (this.A00 == 0) {
            Reel A0M = ReelStore.A03(this.A06).A0M(this.A0C);
            this.A07 = A0M;
            if (A0M == null) {
                A0A(this);
            } else {
                this.A0A.A00 = A0M;
                A03();
            }
        }
        if (AbstractC31178DnM.A1X(C06090Tz.A05, this.A06, 36324312243908705L)) {
            this.A02 = new GestureDetector(getContext(), new C44406Jjj(this, 12));
            TouchInterceptorFrameLayout touchInterceptorFrameLayout = this.mContainer;
            if (touchInterceptorFrameLayout != null) {
                touchInterceptorFrameLayout.setOnTouchListener(new ViewOnTouchListenerC42050IkJ(this, 6));
            }
        }
    }

    public static RectF A00(ReelDashboardFragment reelDashboardFragment) {
        ReboundViewPager reboundViewPager;
        if (reelDashboardFragment.getContext() != null && ((reboundViewPager = reelDashboardFragment.mImageViewPager) == null || reboundViewPager.A0F == null)) {
            float A0A = AbstractC13880nE.A0A(reelDashboardFragment.getContext()) / 2.0f;
            float A09 = AbstractC13880nE.A09(reelDashboardFragment.getContext()) / 2.0f;
            return new RectF(A0A, A09, A0A, A09);
        }
        int[] iArr = new int[2];
        View view = reelDashboardFragment.mImageViewPager.A0F;
        view.getClass();
        view.getLocationInWindow(iArr);
        return new RectF(iArr[0], iArr[1], r1 + view.getWidth(), r4 + view.getHeight());
    }

    public static ArrayList A01(List list) {
        ArrayList A1E = AbstractC166987dD.A1E();
        if (list != null) {
            Iterator it = list.iterator();
            while (it.hasNext()) {
                A1E.add(new C9C8(null, null, (User) it.next(), true, null, null, false));
            }
        }
        return A1E;
    }

    public static void A06(C41181vS c41181vS, ReelDashboardFragment reelDashboardFragment, String str) {
        reelDashboardFragment.getActivity().getClass();
        if (str != null) {
            InterfaceC02590Ai A0f = AbstractC166987dD.A0f(AbstractC12220kQ.A01(reelDashboardFragment, reelDashboardFragment.A06), "ig_aqr_tap_to_see_responders");
            A0f.AAP("selected", str);
            A0f.Cht();
        }
        C140966Yy A0C = AbstractC37304Gc5.A0C(reelDashboardFragment);
        String str2 = c41181vS.A0k;
        String str3 = c41181vS.A0j;
        AbstractC167017dG.A1N(str2, str3);
        AbstractC59962oe abstractC59962oe = new AbstractC59962oe();
        Bundle A0b = AbstractC166987dD.A0b();
        A0b.putString("ReelUserListFragment.REEL_ID", str2);
        A0b.putString("ReelUserListFragment.REEL_ITEM_ID", str3);
        if (str != null) {
            A0b.putString("ReelUserListFragment.REEL_REACTION", str);
        }
        abstractC59962oe.setArguments(A0b);
        A0C.A0E(abstractC59962oe);
        A0C.A04();
    }

    public static void A0D(ReelDashboardFragment reelDashboardFragment, int i) {
        C41551w4 c41551w4;
        Fragment targetFragment = reelDashboardFragment.getTargetFragment();
        if ((targetFragment instanceof ReelViewerFragment) && (c41551w4 = reelDashboardFragment.A08) != null && c41551w4.A02(reelDashboardFragment.A06) > 0) {
            ReelViewerFragment reelViewerFragment = (ReelViewerFragment) targetFragment;
            String str = reelDashboardFragment.A08.A0A(reelDashboardFragment.A06, Math.min(i, r2.A02(r1) - 1)).A0j;
            C41551w4 c41551w42 = reelViewerFragment.A0a;
            if (c41551w42 != null) {
                UserSession session = reelViewerFragment.getSession();
                AbstractC167017dG.A1N(session, str);
                c41551w42.A0C(session, c41551w42.A04(session, str));
            }
        }
    }

    public static void A0E(ReelDashboardFragment reelDashboardFragment, Boolean bool, String str) {
        if (bool.booleanValue()) {
            FragmentActivity activity = reelDashboardFragment.getActivity();
            if (activity != null) {
                UserSession userSession = reelDashboardFragment.A06;
                C66277U6x A01 = C66277U6x.A01(str, AbstractC166987dD.A1G());
                IgBloksScreenConfig A0C = AbstractC31171DnF.A0C(userSession);
                A0C.A0P = C05F.A01;
                A0C.A0U = "";
                A01.A04(activity, A0C);
                return;
            }
            return;
        }
        C12260kU.A0G(reelDashboardFragment.requireContext(), AbstractC08820cl.A03(str));
    }

    public static boolean A0F(ReelDashboardFragment reelDashboardFragment) {
        int i = 0;
        if (reelDashboardFragment.isAdded()) {
            long currentTimeMillis = System.currentTimeMillis();
            if (currentTimeMillis - reelDashboardFragment.A0I > 0) {
                reelDashboardFragment.A0I = currentTimeMillis;
                reelDashboardFragment.A0Y.clear();
                C38262Gs5 c38262Gs5 = reelDashboardFragment.mListAdapter;
                if (c38262Gs5 != null) {
                    c38262Gs5.A0C.clear();
                }
                int i2 = reelDashboardFragment.mListViewPager.A07;
                C41551w4 c41551w4 = reelDashboardFragment.A08;
                if (c41551w4 != null) {
                    i = c41551w4.A02(reelDashboardFragment.A06) - 1;
                }
                int min = Math.min(i2, i);
                float f = min;
                reelDashboardFragment.mListViewPager.A0H(f);
                reelDashboardFragment.mImageViewPager.A0H(f);
                A0D(reelDashboardFragment, min);
                View view = reelDashboardFragment.mView;
                if (view != null) {
                    view.removeCallbacks(reelDashboardFragment.A0W);
                }
                return true;
            }
        }
        return false;
    }

    public final void A0H() {
        C41181vS A0G = A0G();
        if (A0G != null) {
            C38262Gs5 c38262Gs5 = this.mListAdapter;
            int i = this.mListViewPager.A08;
            HashMap hashMap = c38262Gs5.A0C;
            String str = A0G.A0j;
            C38264Gs7 c38264Gs7 = (C38264Gs7) hashMap.get(str);
            if (c38264Gs7 != null && c38264Gs7.A0h.CQ6()) {
                AbstractC38267GsC.A00(c38262Gs5.A07).A04(str, "close");
                ReelDashboardFragment reelDashboardFragment = c38262Gs5.A0B;
                ReboundViewPager reboundViewPager = reelDashboardFragment.mImageViewPager;
                if (reboundViewPager.A08 != i) {
                    reboundViewPager.A0L(i, 0.0f);
                } else {
                    A0B(reelDashboardFragment);
                }
            }
        }
    }

    public final void A0M(String str, String str2) {
        C140966Yy A0C = AbstractC37304Gc5.A0C(this);
        AbstractC167017dG.A1N(str, str2);
        C53Z c53z = new C53Z();
        Bundle A0b = AbstractC166987dD.A0b();
        A0b.putString("ReelQuestionResponsesListFragment.REEL_ID", str);
        A0b.putString("ReelQuestionResponsesListFragment.REEL_ITEM_ID", str2);
        c53z.setArguments(A0b);
        A0C.A0E(c53z);
        A0C.A04();
    }

    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    public final void onActivityResult(int i, int i2, Intent intent) {
        super.onActivityResult(i, i2, intent);
        this.A0K.onActivityResult(i, i2, intent);
        if (i == 1000) {
            A0F(this);
            return;
        }
        if (i != 95848312 || intent == null || !intent.getBooleanExtra(AbstractC43591JPw.A00(1326), false)) {
            return;
        }
        HashMap A1G = AbstractC166987dD.A1G();
        A1G.put(AbstractC111324zv.A00(943), RealtimeSubscription.GRAPHQL_MQTT_VERSION);
        C82013lN A00 = AbstractC82003lM.A00(this.A06);
        String str = this.A0C;
        A00.A00(C3G5.A0I, new C29358Cwr(this, 1), str, AnonymousClass001.A0R("reel_", "dashboard"), A1G);
    }

    @Override // androidx.fragment.app.Fragment
    public final void onCreate(Bundle bundle) {
        Set emptySet;
        ReelViewerConfig A00;
        int A02 = C0f9.A02(-759336264);
        super.onCreate(bundle);
        this.A06 = AbstractC31176DnK.A0S(this);
        this.A0R = requireArguments().getString(AbstractC111324zv.A00(3731), "");
        this.A00 = requireArguments().getInt(AbstractC111324zv.A00(3726), 0);
        Bundle requireArguments = requireArguments();
        String A002 = AbstractC111324zv.A00(3728);
        if (requireArguments.containsKey(A002)) {
            Serializable serializable = requireArguments().getSerializable(A002);
            serializable.getClass();
            emptySet = (HashSet) serializable;
        } else {
            emptySet = Collections.emptySet();
        }
        this.A0S = emptySet;
        this.A0C = AbstractC31173DnH.A0j(requireArguments(), AbstractC111324zv.A00(3727));
        Serializable serializable2 = requireArguments().getSerializable(AbstractC111324zv.A00(3730));
        serializable2.getClass();
        this.A0N = (C3G2) serializable2;
        Bundle requireArguments2 = requireArguments();
        String A003 = AbstractC111324zv.A00(3729);
        if (requireArguments2.getParcelable(A003) != null) {
            A00 = (ReelViewerConfig) requireArguments().getParcelable(A003);
        } else {
            A00 = ReelViewerConfig.A00();
        }
        this.A0M = A00;
        if (A00 == null) {
            this.A0M = ReelViewerConfig.A00();
        }
        this.A04 = new C684436h(requireActivity(), this.A06);
        if (!AbstractC31178DnM.A1X(C06090Tz.A05, this.A06, 36328349513039324L)) {
            C50689MZh c50689MZh = new C50689MZh(this, 38);
            C1ON A004 = FCP.A00(this.A06);
            A004.A00 = c50689MZh;
            schedule(A004);
        }
        C31714DwJ c31714DwJ = new C31714DwJ(this, 33);
        C1ON A01 = C25401Lu.A01(this.A06);
        A01.A00 = c31714DwJ;
        schedule(A01);
        this.A0K = AbstractC69933Cc.A00(requireContext(), this.A06, new C142226bf(this.A06, requireActivity(), this, true));
        this.A0Q = new C37987GnX(requireActivity(), AbstractC018607g.A00(this), this, this.A06, new C43073J2n(this));
        this.A0L = new C3CO(this.A06, new C38287GsW(this, 15));
        this.A0P = new C147066ji(this.A06, requireActivity());
        this.A05 = AbstractC12220kQ.A01(this, this.A06);
        registerLifecycleListener(this.A0Q);
        C0f9.A09(449983994, A02);
    }

    @Override // androidx.fragment.app.Fragment
    public final View onCreateView(LayoutInflater layoutInflater, ViewGroup viewGroup, Bundle bundle) {
        int A02 = C0f9.A02(-447911368);
        this.A0L.A01();
        View A0A = AbstractC31172DnG.A0A(layoutInflater, viewGroup, R.layout.layout_reel_dashboard);
        C0f9.A09(851432752, A02);
        return A0A;
    }

    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    public final void onDestroy() {
        int A02 = C0f9.A02(-1536864771);
        super.onDestroy();
        C0f9.A09(224026432, A02);
    }

    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    public final void onDestroyView() {
        Parcelable onSaveInstanceState;
        int A02 = C0f9.A02(1359785179);
        super.onDestroyView();
        Map map = this.A0X;
        Iterator A15 = AbstractC166997dE.A15(map);
        while (A15.hasNext()) {
            Map.Entry entry = (Map.Entry) A15.next();
            ((C105814ps) entry.getKey()).A01((InterfaceC145106gV) entry.getValue());
        }
        AbstractC82003lM.A00(this.A06).A03(this);
        map.clear();
        this.A0L.A02();
        C25671My A00 = AbstractC25651Mw.A00(this.A06);
        A00.A02(this, C3DH.class);
        A00.A02(this.A0O, C70073Cr.class);
        if (!AbstractC13440mV.A07() && getRootActivity() != null && getRootActivity().getWindow() != null && this.mView != null) {
            ReelViewerConfig reelViewerConfig = this.A0M;
            Window window = getRootActivity().getWindow();
            View view = this.mView;
            C14360o3.A0B(reelViewerConfig, 0);
            AbstractC167007dF.A1D(window, 1, view);
            if (reelViewerConfig.A0K) {
                view.setSystemUiVisibility((view.getSystemUiVisibility() & (-5)) | 256);
            } else {
                AbstractC56402iY.A07(view, window, true);
            }
        }
        this.mImageViewPager.A0F();
        this.mListViewPager.A0F();
        Map map2 = this.A0Z;
        C38262Gs5 c38262Gs5 = this.mListAdapter;
        HashMap A1G = AbstractC166987dD.A1G();
        Iterator A0k = AbstractC167007dF.A0k(c38262Gs5.A0C);
        while (A0k.hasNext()) {
            C38264Gs7 c38264Gs7 = (C38264Gs7) A0k.next();
            String str = c38264Gs7.A0P;
            boolean z = c38262Gs5.A0F;
            ViewGroup CFj = c38264Gs7.A0h.CFj();
            if (z) {
                AbstractC70663Fe abstractC70663Fe = ((RecyclerView) CFj).A0D;
                abstractC70663Fe.getClass();
                onSaveInstanceState = abstractC70663Fe.A1M();
            } else {
                onSaveInstanceState = ((AbsListView) CFj).onSaveInstanceState();
            }
            A1G.put(str, onSaveInstanceState);
        }
        map2.putAll(A1G);
        AbstractC10360h2 childFragmentManager = getChildFragmentManager();
        List<Fragment> A04 = childFragmentManager.A0U.A04();
        if (A04 != null) {
            for (Fragment fragment : A04) {
                if (fragment != null) {
                    C14240no c14240no = new C14240no(childFragmentManager);
                    c14240no.A03(fragment);
                    c14240no.A01();
                }
            }
            childFragmentManager.A0Z();
        }
        this.A01 = this.mListViewPager.A08;
        ReelDashboardFragmentLifecycleUtil.cleanupReferences(this);
        C0f9.A09(903015417, A02);
    }

    @Override // X.InterfaceC41501vz
    public final /* bridge */ /* synthetic */ void onEvent(Object obj) {
        int A03 = C0f9.A03(-768898008);
        int A032 = C0f9.A03(-1706232397);
        A0O(false);
        C0f9.A0A(-1991322520, A032);
        C0f9.A0A(1126499256, A03);
    }

    @Override // androidx.fragment.app.Fragment
    public final void onPause() {
        int A02 = C0f9.A02(-1631781955);
        super.onPause();
        this.A03.A0B(this);
        C1OU.A06(requireActivity(), this.A06).A0T();
        this.A01 = this.mImageViewPager.getCurrentDataIndex();
        C0f9.A09(1915542414, A02);
    }

    /* JADX WARN: Code restructure failed: missing block: B:44:0x00ae, code lost:
    
        if (X.C41551w4.A00(r0, r1).isEmpty() != false) goto L35;
     */
    @Override // X.AbstractC59962oe, androidx.fragment.app.Fragment
    /*
        Code decompiled incorrectly, please refer to instructions dump.
        To view partially-correct add '--show-bad-code' argument
    */
    public final void onResume() {
        /*
            r6 = this;
            r0 = -318756527(0xffffffffed002951, float:-2.479002E27)
            int r2 = X.C0f9.A02(r0)
            super.onResume()
            r3 = 0
            r6.A0U = r3
            X.2hj r0 = r6.A03
            r0.A0A(r6)
            r0 = 8
            X.AbstractC31179DnN.A1K(r6, r0)
            boolean r0 = X.AbstractC13440mV.A07()
            if (r0 != 0) goto L50
            android.app.Activity r0 = r6.getRootActivity()
            if (r0 == 0) goto L50
            android.app.Activity r0 = r6.getRootActivity()
            android.view.Window r0 = r0.getWindow()
            if (r0 == 0) goto L50
            android.view.View r0 = r6.mView
            if (r0 == 0) goto L50
            com.instagram.model.reels.ReelViewerConfig r5 = r6.A0M
            android.app.Activity r0 = r6.getRootActivity()
            android.view.Window r4 = r0.getWindow()
            android.view.View r1 = r6.mView
            X.C14360o3.A0B(r5, r3)
            X.AbstractC167017dG.A1P(r4, r1)
            boolean r0 = r5.A0K
            if (r0 == 0) goto Lde
            int r0 = r1.getSystemUiVisibility()
            r0 = r0 | 260(0x104, float:3.64E-43)
            r1.setSystemUiVisibility(r0)
        L50:
            androidx.fragment.app.FragmentActivity r1 = r6.requireActivity()
            com.instagram.common.session.UserSession r0 = r6.A06
            X.3M4 r4 = X.C1OU.A06(r1, r0)
            boolean r0 = r4.A0a()
            if (r0 == 0) goto L69
            X.3G2 r1 = r4.A0G
            X.3G2 r0 = X.C3G2.A1g
            if (r1 != r0) goto Ld3
            r4.A0Y(r6)
        L69:
            X.1vS r4 = r6.A0G()
            if (r4 == 0) goto L8f
            boolean r0 = r6.A0T
            if (r0 != 0) goto L8f
            X.1qM r1 = r4.A0b
            if (r1 == 0) goto L8f
            java.lang.String r0 = r1.A2u()
            if (r0 == 0) goto L8f
            java.lang.String r1 = r1.A2u()
            com.instagram.common.session.UserSession r0 = r6.A06
            X.1ON r1 = X.AbstractC2044893h.A04(r0, r1)
            r0 = 32
            X.C37484Gf2.A00(r1, r6, r4, r0)
            r6.schedule(r1)
        L8f:
            r6.A0T = r3
            com.instagram.model.reels.Reel r1 = r6.A07
            if (r1 == 0) goto L9d
            com.instagram.common.session.UserSession r0 = r6.A06
            boolean r0 = r1.A15(r0)
            if (r0 != 0) goto Lb0
        L9d:
            X.1w4 r1 = r6.A08
            if (r1 == 0) goto Lcc
            com.instagram.common.session.UserSession r0 = r6.A06
            X.C14360o3.A0B(r0, r3)
            java.util.List r0 = X.C41551w4.A00(r0, r1)
            boolean r0 = r0.isEmpty()
            if (r0 == 0) goto Lcc
        Lb0:
            X.0h2 r0 = r6.mFragmentManager
            androidx.fragment.app.FragmentActivity r1 = r6.getActivity()
            if (r0 == 0) goto Lcc
            boolean r0 = X.C06P.A01(r0)
            if (r0 == 0) goto Lcc
            if (r1 == 0) goto Lcc
            java.lang.String r1 = "ReelDashboardListAdapter"
            java.lang.String r0 = "Resetting view holder id counter"
            X.C0w9.A03(r1, r0)
            X.C38262Gs5.A0H = r3
            X.AbstractC25227BEk.A1B(r6)
        Lcc:
            r0 = -1862728004(0xffffffff90f906bc, float:-9.822356E-29)
            X.C0f9.A09(r0, r2)
            return
        Ld3:
            com.instagram.common.ui.widget.reboundviewpager.ReboundViewPager r1 = r6.mImageViewPager
            X.J4E r0 = new X.J4E
            r0.<init>(r6)
            r1.post(r0)
            goto L69
        Lde:
            X.AbstractC56402iY.A07(r1, r4, r3)
            goto L50
        */
        throw new UnsupportedOperationException("Method not decompiled: instagram.features.stories.dashboard.fragment.ReelDashboardFragment.onResume():void");
    }

    @Override // androidx.fragment.app.Fragment
    public final void onStart() {
        int A02 = C0f9.A02(-1036876372);
        super.onStart();
        AbstractC31179DnN.A1K(this, 8);
        C0f9.A09(-888876652, A02);
    }

    @Override // androidx.fragment.app.Fragment
    public final void onStop() {
        int A02 = C0f9.A02(1301832559);
        super.onStop();
        AbstractC31179DnN.A1K(this, 0);
        C0f9.A09(1964851267, A02);
    }
}
